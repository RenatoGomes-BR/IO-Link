[{"id":"ac39de50.95a68","type":"tab","label":"thomailson - 01","disabled":false,"info":""},{"id":"6e331fe0.e468d","type":"tab","label":"thomailson - 02","disabled":false,"info":""},{"id":"71a65480.6333dc","type":"tab","label":"cardoso - 01","disabled":false,"info":""},{"id":"28007bf4.16cad4","type":"tab","label":"Demarchi - 01","disabled":false,"info":""},{"id":"3e34ebb3.d257f4","type":"tab","label":"Renato - IIoT Project by Renato Gomes","disabled":false,"info":""},{"id":"afb6eadd.3fb6f8","type":"tab","label":"Renato - Industrial monitoring","disabled":false,"info":""},{"id":"1a948517.13049b","type":"tab","label":"Renato - Extra functions","disabled":false,"info":""},{"id":"d70acf5c.c918f","type":"ui_group","z":"","name":"Grupo - 01","tab":"e83ca0c.591686","order":1,"disp":true,"width":"6","collapse":false},{"id":"c853af64.8c6d","type":"ui_base","theme":{"name":"theme-dark","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#097479","value":"#097479","edited":true},"page-titlebar-backgroundColor":{"value":"#097479","edited":false},"page-backgroundColor":{"value":"#111111","edited":false},"page-sidebar-backgroundColor":{"value":"#000000","edited":false},"group-textColor":{"value":"#0eb8c0","edited":false},"group-borderColor":{"value":"#555555","edited":false},"group-backgroundColor":{"value":"#333333","edited":false},"widget-textColor":{"value":"#eeeeee","edited":false},"widget-backgroundColor":{"value":"#097479","edited":false},"widget-borderColor":{"value":"#333333","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"IO-Link Dashboard","hideToolbar":"false","allowSwipe":"true","lockMenu":"true","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"57bada62.28b484","type":"ui_group","z":"","name":"Grupo - 01","tab":"","order":2,"disp":true,"width":"6","collapse":false},{"id":"4bcbb050.66b67","type":"ui_group","z":"","name":"Grupo - 02","tab":"","order":2,"disp":true,"width":"6","collapse":false},{"id":"e83ca0c.591686","type":"ui_tab","z":"","name":"Thomailson - 01","icon":"dashboard","disabled":false,"hidden":false},{"id":"6b122b55.b75c54","type":"ui_group","z":"","name":"Menu","tab":"44576696.86c408","order":1,"disp":true,"width":"10","collapse":false},{"id":"53a0fcab.801d64","type":"ui_group","z":"","name":"Bom","tab":"44576696.86c408","order":2,"disp":false,"width":"6","collapse":false},{"id":"5d1210cb.e4a4e","type":"ui_group","z":"","name":"Ruim","tab":"44576696.86c408","order":3,"disp":false,"width":"6","collapse":false},{"id":"44576696.86c408","type":"ui_tab","z":"","name":"Fotos Vendedores","icon":"dashboard","order":7,"disabled":false,"hidden":false},{"id":"1e35b511.ba8ddb","type":"ui_tab","z":"","name":"Demarchi","icon":"dashboard","order":4,"disabled":false,"hidden":false},{"id":"3157b8c7.b42148","type":"ui_group","z":"","name":"Menu","tab":"1e35b511.ba8ddb","order":1,"disp":true,"width":"6","collapse":false},{"id":"777f0eb2.466e1","type":"ui_group","z":"","name":"Led Verde","tab":"1e35b511.ba8ddb","order":2,"disp":true,"width":"6","collapse":false},{"id":"32211431.37544c","type":"ui_group","z":"","name":"Led Vermelho","tab":"1e35b511.ba8ddb","order":3,"disp":true,"width":"6","collapse":false},{"id":"d70808c4.7d7328","type":"ui_group","z":"","name":"Renato's Voice Assistant","tab":"639ab493.90ab4c","order":1,"disp":true,"width":11,"collapse":true},{"id":"e98ddaae.efaab8","type":"ui_group","z":"","name":"Temperature - Machine 01 ","tab":"533d079a.55d518","order":1,"disp":true,"width":6,"collapse":true},{"id":"bc7ad18.3a8643","type":"ui_group","z":"","name":"Default","tab":"","order":1,"disp":true,"width":"6","collapse":false},{"id":"e9446e16.338ca","type":"ui_group","z":"","name":"Grupo03","tab":"","order":3,"disp":true,"width":"6","collapse":false},{"id":"5c4def7e.406c1","type":"ui_group","z":"","name":"Grupo04","tab":"","order":4,"disp":true,"width":"6","collapse":false},{"id":"76ad6d87.d2bf84","type":"ui_group","z":"","name":"Garage","tab":"","order":2,"disp":false,"width":"10"},{"id":"639ab493.90ab4c","type":"ui_tab","z":"","name":"Renato - Extra Functions","icon":"cloud","order":3,"disabled":false,"hidden":false},{"id":"fc7375d2.8cd908","type":"ui_group","z":"","name":"Visual Recognition","tab":"639ab493.90ab4c","order":2,"disp":true,"width":"11","collapse":false},{"id":"533d079a.55d518","type":"ui_tab","z":"","name":"Renato - Machine Monitoring","icon":"fa-industry","order":2,"disabled":false,"hidden":false},{"id":"9e0c5462.e6d6d8","type":"ui_group","z":"","name":"Speed Vibration - Machine 01","tab":"533d079a.55d518","order":2,"disp":true,"width":6,"collapse":true},{"id":"ebb0d64d.181538","type":"ui_group","z":"","name":"Relative Humidity - Machine 01","tab":"533d079a.55d518","order":3,"disp":true,"width":6,"collapse":true},{"id":"5bbec25c.a9365c","type":"ui_spacer","name":"spacer","group":"11f4febc.fdada1","order":1,"width":6,"height":1},{"id":"437b0de7.a708b4","type":"ui_tab","z":"","name":"Renato - Home IIoT Demo","icon":"home","order":1,"disabled":false,"hidden":false},{"id":"80622b31.cf6fc8","type":"ui_group","z":"","name":"General Information","tab":"437b0de7.a708b4","order":1,"disp":true,"width":18,"collapse":true},{"id":"219375c5.f2d1fa","type":"ui_spacer","name":"spacer","group":"80622b31.cf6fc8","order":2,"width":18,"height":1},{"id":"4b3b7bd6.49b024","type":"ui_spacer","name":"spacer","group":"80622b31.cf6fc8","order":4,"width":18,"height":1},{"id":"13486d8.3846793","type":"ui_spacer","name":"spacer","group":"80622b31.cf6fc8","order":6,"width":"18","height":1},{"id":"ac4f41cc.d4e45","type":"ui_group","z":"","name":"System Status","tab":"533d079a.55d518","order":5,"disp":true,"width":"6","collapse":true},{"id":"ff1a7ea4.c4c3d","type":"ui_group","z":"","name":"Mood Analyzer","tab":"639ab493.90ab4c","order":3,"disp":true,"width":11,"collapse":false},{"id":"1669908b.62a34f","type":"ui_group","z":"","name":"Grupo - 01","tab":"","order":2,"disp":true,"width":"6","collapse":false},{"id":"5a766566.b1897c","type":"ui_group","z":"","name":"Grupo - 01","tab":"","order":1,"disp":true,"width":"6","collapse":false},{"id":"81e61b9c.71aab8","type":"ui_spacer","name":"spacer","group":"e98ddaae.efaab8","order":1,"width":6,"height":1},{"id":"94eee29f.68f43","type":"ui_spacer","name":"spacer","group":"e98ddaae.efaab8","order":2,"width":6,"height":1},{"id":"95827f01.7f96c","type":"ui_spacer","name":"spacer","group":"9e0c5462.e6d6d8","order":1,"width":6,"height":1},{"id":"78d4acf3.f78f44","type":"ui_spacer","name":"spacer","group":"9e0c5462.e6d6d8","order":3,"width":6,"height":1},{"id":"ccc95c43.7328a","type":"ui_spacer","name":"spacer","group":"ebb0d64d.181538","order":2,"width":6,"height":1},{"id":"7f6fcad6.794914","type":"ui_group","z":"","name":"Distance Sensor","tab":"533d079a.55d518","order":4,"disp":true,"width":"6","collapse":true},{"id":"d8a92156.368a8","type":"ui_spacer","name":"spacer","group":"d70808c4.7d7328","order":1,"width":11,"height":1},{"id":"99aacc7d.3f3d8","type":"ui_spacer","name":"spacer","group":"d70808c4.7d7328","order":2,"width":11,"height":1},{"id":"17ec1aae.c7c225","type":"ui_spacer","name":"spacer","group":"fc7375d2.8cd908","order":1,"width":11,"height":1},{"id":"acb8cc46.50029","type":"ui_spacer","name":"spacer","group":"fc7375d2.8cd908","order":2,"width":11,"height":1},{"id":"4283f5fd.76c2dc","type":"inject","z":"6e331fe0.e468d","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":180,"y":120,"wires":[[]]},{"id":"b1b748ec.0bf428","type":"inject","z":"71a65480.6333dc","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":380,"y":140,"wires":[["720d2706.1d9ba8"]]},{"id":"720d2706.1d9ba8","type":"debug","z":"71a65480.6333dc","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":580,"y":200,"wires":[]},{"id":"9897c9e3.91caf8","type":"inject","z":"ac39de50.95a68","name":"","topic":"","payload":"{\"group\":{\"hide\":[\"Fotos_Vendedores_Bom\",\"Fotos_Vendedores_Ruim\"]}}","payloadType":"json","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":190,"y":80,"wires":[["fd8caf95.aaec2"]]},{"id":"fd8caf95.aaec2","type":"ui_ui_control","z":"ac39de50.95a68","name":"","events":"all","x":660,"y":160,"wires":[[]]},{"id":"f0f03d2b.e5e39","type":"ui_button","z":"ac39de50.95a68","name":"","group":"6b122b55.b75c54","order":1,"width":0,"height":0,"passthru":false,"label":"Aperte aqui para descobrir um vendedor bom","tooltip":"","color":"black","bgcolor":"","icon":"","payload":"{\"group\":{\"hide\":[\"Fotos_Vendedores_Ruim\"],\"show\":[\"Fotos_Vendedores_Bom\"]}}","payloadType":"json","topic":"","x":270,"y":160,"wires":[["fd8caf95.aaec2"]]},{"id":"83e9491d.a7d0f8","type":"ui_button","z":"ac39de50.95a68","name":"","group":"6b122b55.b75c54","order":3,"width":0,"height":0,"passthru":false,"label":"Aperte aqui para descobrir um vendedor bosta","tooltip":"","color":"black","bgcolor":"","icon":"","payload":"{\"group\":{\"hide\":[\"Fotos_Vendedores_Bom\"],\"show\":[\"Fotos_Vendedores_Ruim\"]}}","payloadType":"json","topic":"","x":280,"y":200,"wires":[["fd8caf95.aaec2"]]},{"id":"1cfab6e0.aafbc9","type":"ui_button","z":"ac39de50.95a68","name":"","group":"6b122b55.b75c54","order":5,"width":0,"height":0,"passthru":false,"label":"RESET","tooltip":"","color":"black","bgcolor":"","icon":"","payload":"{\"group\":{\"hide\":[\"Fotos_Vendedores_Bom\",\"Fotos_Vendedores_Ruim\"]}}","payloadType":"json","topic":"","x":200,"y":280,"wires":[["fd8caf95.aaec2"]]},{"id":"6790d3f1.9f369c","type":"ui_media","z":"ac39de50.95a68","group":"53a0fcab.801d64","name":"","width":0,"height":0,"order":1,"category":"Vendedores","file":"BOM.jpg","layout":"adjust","showcontrols":true,"loop":true,"onstart":false,"scope":"local","tooltip":"","x":670,"y":260,"wires":[[]]},{"id":"38633a86.da60c6","type":"ui_media","z":"ac39de50.95a68","group":"5d1210cb.e4a4e","name":"","width":0,"height":0,"order":1,"category":"Vendedores","file":"BOSTA.jpg","layout":"adjust","showcontrols":true,"loop":true,"onstart":false,"scope":"local","tooltip":"","x":670,"y":320,"wires":[[]]},{"id":"4d3b6d3c.0b9414","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"3157b8c7.b42148","order":1,"width":0,"height":0,"passthru":false,"label":"Led Verde","tooltip":"","color":"","bgcolor":"","icon":"","payload":"{\"group\":{\"hide\":[\"Demarchi_Led_Vermelho\"],\"show\":[\"Demarchi_Led_Verde\"]}}","payloadType":"json","topic":"","x":300,"y":160,"wires":[["6e2d997b.c50b18"]]},{"id":"d4a7c809.a5d6a8","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"3157b8c7.b42148","order":3,"width":0,"height":0,"passthru":false,"label":"Led Vermelho","tooltip":"","color":"","bgcolor":"","icon":"","payload":"{\"group\":{\"hide\":[\"Demarchi_Led_Verde\"],\"show\":[\"Demarchi_Led_Vermelho\"]}}","payloadType":"json","topic":"","x":300,"y":240,"wires":[["6e2d997b.c50b18"]]},{"id":"6e2d997b.c50b18","type":"ui_ui_control","z":"28007bf4.16cad4","name":"","events":"all","x":600,"y":180,"wires":[[]]},{"id":"58624f67.43b87","type":"ui_media","z":"28007bf4.16cad4","group":"777f0eb2.466e1","name":"","width":0,"height":0,"order":0,"category":"LedVerde","file":"verde.jpg","layout":"center","showcontrols":true,"loop":true,"onstart":false,"scope":"local","tooltip":"","x":610,"y":260,"wires":[[]]},{"id":"a0e72e8e.4a961","type":"ui_media","z":"28007bf4.16cad4","group":"32211431.37544c","name":"","width":0,"height":0,"order":1,"category":"LedVermelho","file":"vermelho.jpg","layout":"center","showcontrols":true,"loop":true,"onstart":false,"scope":"local","tooltip":"","x":610,"y":320,"wires":[[]]},{"id":"764e3684.12ef88","type":"inject","z":"28007bf4.16cad4","name":"","topic":"","payload":"{\"group\":{\"hide\":[\"Demarchi_Led_Verde\",\"Demarchi_Led_Vermelho\"]}}","payloadType":"json","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":286,"y":88,"wires":[["6e2d997b.c50b18"]]},{"id":"abdb4221.73b75","type":"watson-speech-to-text","z":"1a948517.13049b","name":"","alternatives":1,"speakerlabels":false,"smartformatting":false,"lang":"pt-BR","langhidden":"pt-BR","langcustom":"NoCustomisationSetting","langcustomhidden":"","custom-weight":"0.5","band":"BroadbandModel","bandhidden":"BroadbandModel","keywords":"","keywords-threshold":"0.5","word-confidence":false,"password":"","apikey":"d6tfME5Ln4YmCKMFMvgiGRLbqj_GEGMG5d-iUpXhaLOB","payload-response":false,"streaming-mode":false,"streaming-mute":true,"auto-connect":false,"discard-listening":false,"disable-precheck":false,"service-endpoint":"https://api.us-south.speech-to-text.watson.cloud.ibm.com/instances/dbc44fa1-e770-4112-8bb0-2b85cf0aaff8","x":500,"y":260,"wires":[["448c4966.037198"]]},{"id":"5df48eb5.d012","type":"microphone","z":"1a948517.13049b","name":"","x":190,"y":260,"wires":[["abdb4221.73b75"]]},{"id":"448c4966.037198","type":"debug","z":"1a948517.13049b","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":720,"y":260,"wires":[]},{"id":"49c720a2.36109","type":"camera","z":"1a948517.13049b","name":"","x":230,"y":480,"wires":[["57a8c2b6.6fb2bc","77d1bed4.04d6"]]},{"id":"57a8c2b6.6fb2bc","type":"file","z":"1a948517.13049b","name":"","filename":"C:\\Users\\gomesr\\Desktop\\teste.jpeg","appendNewline":true,"createDir":false,"overwriteFile":"true","encoding":"none","x":770,"y":480,"wires":[[]]},{"id":"77d1bed4.04d6","type":"visual-recognition-v3","z":"1a948517.13049b","name":"","vr-service-endpoint":"https://api.us-south.visual-recognition.watson.cloud.ibm.com/instances/6096cd8b-f118-4c11-9a2e-b4e82943b488","image-feature":"classifyImage","lang":"en","x":430,"y":600,"wires":[["74b441.1b3b4bc"]]},{"id":"74b441.1b3b4bc","type":"debug","z":"1a948517.13049b","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"result","targetType":"msg","x":950,"y":600,"wires":[]},{"id":"5e1bfc54.1f7e24","type":"http in","z":"1a948517.13049b","name":"","url":"/renatovr","method":"get","upload":false,"swaggerDoc":"","x":230,"y":760,"wires":[["e2260178.b0a69"]]},{"id":"e2260178.b0a69","type":"switch","z":"1a948517.13049b","name":"Check image param","property":"payload.imageurl","propertyType":"msg","rules":[{"t":"null"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":344,"y":822,"wires":[["372a4b16.f8a5e4"],["920e1e8e.726eb"]]},{"id":"372a4b16.f8a5e4","type":"template","z":"1a948517.13049b","name":"Get Image URL","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<html>\n<head><title>Renato's Visual Recognition on Node-RED</title></head>\n<body>\n<h1>Welcome to my Visual Recognition Demo - Analyze any image with this tool</h1>\n<form  action=\"{{req._parsedUrl.pathname}}\">\n    <img src=\"https://image.freepik.com/fotos-gratis/muitos-baloes-coloridos-no-ceu-azul-conceito-de-amor-no-verao-e-namorados-lua-de-mel-de-casamento-imagens-de-estilo-de-efeito-vintage_1253-1119.jpg\" height='200'/>\n    <img src=\"https://www.radiometropole.com.br/fotos/noticias/87815/IMAGEM_NOTICIA_3.jpg?v=76e3f37bcd61ecf\" height='200'/>\n    <img src=\"https://live.staticflickr.com/2379/2218733813_a5a400e16a_z.jpg\" height='200'/>\n    <img src=\"https://http2.mlstatic.com/lote-com-4-peixe-palhaco-ocelaris-com-brinde-marinho-D_NQ_NP_900038-MLB27109155440_032018-F.jpg\" height='200'/>\n    <img src=\"https://www1.folha.uol.com.br/folha/galeria/album/images/20040621-brizola-08.jpg\" height='200'/>\n    <br/>Drag and drop any of the images above into the text field or enter any image URL:<br/>\n    <input type=\"text\" name=\"imageurl\"/>\n    <input type=\"submit\" value=\"Analyze\"/>\n</form>\n</body>\n</html>","x":638,"y":791,"wires":[["379b9926.47a076"]]},{"id":"920e1e8e.726eb","type":"change","z":"1a948517.13049b","name":"Extract img URL","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.imageurl","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":430,"y":880,"wires":[["3f401d36.6c5092"]]},{"id":"379b9926.47a076","type":"http response","z":"1a948517.13049b","name":"HTTP Response","x":888,"y":825,"wires":[]},{"id":"3f401d36.6c5092","type":"visual-recognition-v3","z":"1a948517.13049b","name":"","vr-service-endpoint":"https://api.us-south.visual-recognition.watson.cloud.ibm.com/instances/6096cd8b-f118-4c11-9a2e-b4e82943b488","image-feature":"classifyImage","lang":"en","x":612.5,"y":931.5,"wires":[["3e7cad25.556182","93750937.c99d78"]]},{"id":"93750937.c99d78","type":"template","z":"1a948517.13049b","name":"Report","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<html>\n<head><title>Watson Visual Recognition on Node-RED</title></head>\n<body>\n<h1>Node-RED Watson Visual Recognition Output</h1>\n<p>Analyzed image: {{payload}}<br/><img src=\"{{payload}}\" height='100'/></p>\n<table border='1'>\n    <thead><tr><th>Name</th><th>Score</th></tr></thead>\n{{#result.images.0.classifiers.0.classes}}\n  <tr><td><b>{{class}}</b></td><td><i>{{score}}</i></td></tr>\n{{/result.images.0.classifiers.0.classes}}\n</table>\n<form  action=\"{{req._parsedUrl.pathname}}\">\n    <input type=\"submit\" value=\"Try again\"/>\n</form>\n</body>\n</html>","x":733,"y":859,"wires":[["379b9926.47a076"]]},{"id":"3e7cad25.556182","type":"function","z":"1a948517.13049b","name":"get labels","func":"var labels = msg.result.images[0].classifiers[0].classes;\nmsg.payload = labels.map(function(i){\n   return i.class;\n});\nreturn msg;","outputs":1,"noerr":0,"x":800,"y":935,"wires":[["8c1a74c.87e9f88"]]},{"id":"8c1a74c.87e9f88","type":"debug","z":"1a948517.13049b","name":"","active":false,"tosidebar":true,"console":false,"complete":"payload","x":960,"y":909,"wires":[]},{"id":"c939d3ff.404bc","type":"comment","z":"1a948517.13049b","name":"Texto to speech","info":"\n","x":160,"y":60,"wires":[]},{"id":"170fe7ae.d8d7b8","type":"ui_text_input","z":"1a948517.13049b","name":"Input text to speech","label":"Type an english text here...","tooltip":"my assistant will speech to you, but she only talks in english :)","group":"d70808c4.7d7328","order":3,"width":0,"height":0,"passthru":true,"mode":"text","delay":"0","topic":"","x":370,"y":100,"wires":[["753cb3fa.e6442c"]]},{"id":"e2b45a1.2c128a8","type":"comment","z":"1a948517.13049b","name":"Speech to text","info":"\n","x":130,"y":200,"wires":[]},{"id":"11abcc12.0d1944","type":"comment","z":"1a948517.13049b","name":"Take a picture, save and analyze it","info":"\n","x":200,"y":400,"wires":[]},{"id":"75239ed5.d10da","type":"comment","z":"1a948517.13049b","name":"Visual recognition URL","info":"\n","x":180,"y":700,"wires":[]},{"id":"75e94e23.4c742","type":"ui_button","z":"1a948517.13049b","name":"","group":"80622b31.cf6fc8","order":7,"width":0,"height":0,"passthru":false,"label":"About","tooltip":"","color":"","bgcolor":"","icon":"info","payload":"","payloadType":"str","topic":"","x":370,"y":1080,"wires":[["c6c131d6.754a4"]]},{"id":"58366cb2.a14204","type":"ui_toast","z":"1a948517.13049b","position":"dialog","displayTime":"6","highlight":"red","sendall":true,"outputs":1,"ok":"OK","cancel":"","raw":true,"topic":"","name":"","x":790,"y":1080,"wires":[[]]},{"id":"c6c131d6.754a4","type":"template","z":"1a948517.13049b","name":"","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<p style=\"text-align:center\">This is a project based on Node-red by Renato Gomes</p>\n<p style=\"text-align:center\"><a href=\"https://www.linkedin.com/in/renatoclg/\"  target=\"_blank\" style=\"color:white;font-size:100%\">contact me</a></p>","output":"str","x":620,"y":1080,"wires":[["58366cb2.a14204"]]},{"id":"eb9006ea.e29978","type":"comment","z":"1a948517.13049b","name":"Open a popup window w/ a clickable link","info":"\n","x":260,"y":1020,"wires":[]},{"id":"f9b15ba9.c742a8","type":"ui_template","z":"1a948517.13049b","group":"fc7375d2.8cd908","name":"Visual Recognition Link","order":4,"width":0,"height":0,"format":"<div>\n    <a href=\"http://127.0.0.1:1880/renatovr\"><span>Renato's Visual Recognition Area</span></a>\n</div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":false,"templateScope":"local","x":510,"y":1240,"wires":[[]]},{"id":"47748aab.6448f4","type":"comment","z":"1a948517.13049b","name":"Insert a link to a group on dashboard","info":"\n","x":240,"y":1180,"wires":[]},{"id":"426f67fa.1363a8","type":"comment","z":"1a948517.13049b","name":"Show / hide groups according to the function","info":"\n","x":270,"y":1380,"wires":[]},{"id":"e8ae47db.82a1d8","type":"ui_ui_control","z":"1a948517.13049b","name":"","events":"all","x":800,"y":1440,"wires":[[]]},{"id":"b0bb2235.43f37","type":"function","z":"1a948517.13049b","name":"","func":"if (msg.payload = (\"Valdivia\")){\n    msg.payload = {\n    \"group\": {\n        \"show\": [\n            \"Home_Grupo03\"\n        ],\n        \"hide\": [\n            \"Home_Grupo02\"\n            ]\n    }\n}\n}\nreturn msg;","outputs":1,"noerr":0,"x":590,"y":1420,"wires":[["e8ae47db.82a1d8"]]},{"id":"11bba094.4c170f","type":"inject","z":"1a948517.13049b","name":"","topic":"","payload":"restart","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":430,"y":1520,"wires":[["c73b50cc.afca8"]]},{"id":"c73b50cc.afca8","type":"function","z":"1a948517.13049b","name":"","func":"if (msg.payload = (\"restart\")){\n    msg.payload = {\n    \"group\": {\n        \"show\": [\n            \"Home_Grupo02\"\n        ],\n        \"hide\": [\n            \"Home_Grupo03\"\n            ]\n    }\n}\n}\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":1500,"wires":[["e8ae47db.82a1d8"]]},{"id":"42e95129.90aab","type":"ui_template","z":"1a948517.13049b","group":"d70808c4.7d7328","name":"Clock Toolbar","order":4,"width":0,"height":0,"format":"<script id=\"titleScript\" type=\"text/javascript\">\n    $('#clock').remove();\n    var toolbar = $('.md-toolbar-tools');\n    var div = $('<div/>');\n    var p = $('<p/ id=\"clock\">');\n    \n    $('#titleScript').parent().hide();\n    div.append(p);\n    div[0].style.margin = '5px 5px 5px auto';\n    toolbar.append(div);\n\n    function displayTitle(lh) {\n        p.text(lh); \n    }\n    \n    function upTime() {\n        var d = new Date();\n        p.text(d.toLocaleTimeString('de-AT'));\n    }\n\n    \n\n    // Watch the payload and update the title\n    (function(scope) {\n        scope.$watch('msg.payload', function(data) {\n            displayTitle(data);\n        });\n        setInterval(upTime,1000);\n    })(scope);\n</script>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":380,"y":1680,"wires":[[]]},{"id":"caf8669e.895298","type":"comment","z":"1a948517.13049b","name":"Put a clock on the toolbar","info":"\n","x":210,"y":1620,"wires":[]},{"id":"753cb3fa.e6442c","type":"ui_audio","z":"1a948517.13049b","name":"Output Text to Speech","group":"d70808c4.7d7328","voice":"en-US","always":"","x":800,"y":100,"wires":[]},{"id":"578edfd1.3d1bb","type":"ui_text","z":"1a948517.13049b","group":"fc7375d2.8cd908","order":3,"width":0,"height":0,"name":"Visual Recognition Area","label":"Do you want to test my Visual Recognition tool? If so, click on the link.","format":"{{msg.payload}}","layout":"row-spread","x":250,"y":1240,"wires":[]},{"id":"3052aa26.915bd6","type":"comment","z":"afb6eadd.3fb6f8","name":"Graphics monitoring","info":"","x":170,"y":680,"wires":[]},{"id":"2644d484.0ae04c","type":"ui_level","z":"afb6eadd.3fb6f8","group":"e98ddaae.efaab8","order":3,"width":0,"height":0,"name":"Machine Temperature","label":"Temperature","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":"80","segWarn":"35","segHigh":"55","unit":"Â°C","layout":"sv","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":"3","colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":520,"y":740,"wires":[]},{"id":"eca543f5.79c76","type":"ui_slider","z":"afb6eadd.3fb6f8","name":"temperature simulator","label":"Sensor simulator","tooltip":"simulate a machine temperature","group":"e98ddaae.efaab8","order":4,"width":0,"height":0,"passthru":true,"outs":"all","topic":"","min":0,"max":"80","step":1,"x":200,"y":740,"wires":[["2644d484.0ae04c","bdcf1b8e.476918"]]},{"id":"3923b1e8.4b63fe","type":"ui_slider","z":"afb6eadd.3fb6f8","name":"speed vibration simulator","label":"Sensor simulator","tooltip":"simulate a % of speed vibration for the machine","group":"9e0c5462.e6d6d8","order":4,"width":0,"height":0,"passthru":true,"outs":"all","topic":"","min":0,"max":"100","step":1,"x":210,"y":850,"wires":[["9d5fac92.1508e","f83996b8.937a08"]]},{"id":"9d5fac92.1508e","type":"ui_gauge","z":"afb6eadd.3fb6f8","name":"Machine Speed Vibration","group":"9e0c5462.e6d6d8","order":2,"width":0,"height":0,"gtype":"gage","title":"Speed Vibration","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"50","seg2":"70","x":510,"y":850,"wires":[]},{"id":"f83996b8.937a08","type":"ui_chart","z":"afb6eadd.3fb6f8","name":"Historical Data - Speed Vibration","group":"9e0c5462.e6d6d8","order":6,"width":0,"height":0,"label":"Historical Data - Speed Vibration","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Waiting for data from the sensor","dot":false,"ymin":"0","ymax":"100","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":530,"y":910,"wires":[[]]},{"id":"16467ee7.2aa601","type":"ui_gauge","z":"afb6eadd.3fb6f8","name":"Relative Humidity","group":"ebb0d64d.181538","order":1,"width":0,"height":0,"gtype":"wave","title":"Relative Humidity","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":500,"y":1000,"wires":[]},{"id":"ea206608.d5d268","type":"ui_slider","z":"afb6eadd.3fb6f8","name":"relative humidity simulator","label":"Sensor simulator","tooltip":"simulate a % of relative humidity for the machine's ambient","group":"ebb0d64d.181538","order":3,"width":0,"height":0,"passthru":true,"outs":"all","topic":"","min":0,"max":"100","step":1,"x":210,"y":1000,"wires":[["16467ee7.2aa601","90eddcd9.86869"]]},{"id":"90eddcd9.86869","type":"ui_chart","z":"afb6eadd.3fb6f8","name":"Historical Data - Relative Humidity","group":"ebb0d64d.181538","order":4,"width":0,"height":0,"label":"Historical Data - Relative Humidity","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Waiting for data from the sensor","dot":false,"ymin":"0","ymax":"100","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":540,"y":1060,"wires":[[]]},{"id":"bdcf1b8e.476918","type":"ui_chart","z":"afb6eadd.3fb6f8","name":"Historical Data - Temperature","group":"e98ddaae.efaab8","order":5,"width":0,"height":0,"label":"Historical Data -Temperature","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Waiting for data from the sensor","dot":false,"ymin":"0","ymax":"100","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":540,"y":780,"wires":[[]]},{"id":"51eaeefa.3e933","type":"ui_text","z":"3e34ebb3.d257f4","group":"80622b31.cf6fc8","order":1,"width":0,"height":0,"name":"","label":"What is this dashboard showing?","format":"This dashboard demonstrate how a machine can be monitored from the factory floor to the cloud.","layout":"col-center","x":240,"y":100,"wires":[]},{"id":"180521e9.29400e","type":"ui_text","z":"3e34ebb3.d257f4","group":"80622b31.cf6fc8","order":3,"width":0,"height":0,"name":"","label":"How does it works?","format":"Here we have real sensors values when the system is live. If the system is off, it's possible to simulate the sensor values.","layout":"col-center","x":190,"y":140,"wires":[]},{"id":"67326a5e.53d104","type":"ui_text","z":"3e34ebb3.d257f4","group":"80622b31.cf6fc8","order":5,"width":0,"height":0,"name":"","label":"When will this system go live?","format":"The system usually go live once per week, when I'm doing presentations for customers.","layout":"col-center","x":230,"y":180,"wires":[]},{"id":"a2ca97bc.58fc78","type":"comment","z":"1a948517.13049b","name":"Analyze your mood","info":"\n","x":190,"y":1780,"wires":[]},{"id":"6852235b.ed26ac","type":"watson-tone-analyzer-v3","z":"1a948517.13049b","name":"","tones":"emotion","sentences":"true","contentType":"false","tone-method":"generalTone","interface-version":"2016-05-19","inputlang":"en","service-endpoint":"https://api.us-south.tone-analyzer.watson.cloud.ibm.com/instances/3d6f3ecb-0301-43df-95f8-040b3315ba20","x":440,"y":1840,"wires":[["bd80cd5a.3929","b08a0a4d.732be8"]]},{"id":"cd6a78d.9015c88","type":"ui_text_input","z":"1a948517.13049b","name":"Mood analyzer","label":"How is your day? It will score your mood in a scale from -5 to 5.","tooltip":"Type some words about your day, this tool will analyze your mood based on that.","group":"ff1a7ea4.c4c3d","order":1,"width":0,"height":0,"passthru":true,"mode":"text","delay":"0","topic":"","x":220,"y":1840,"wires":[["77dc8da2.da8d34","6852235b.ed26ac"]]},{"id":"aa234d9d.a5d2c","type":"debug","z":"1a948517.13049b","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":710,"y":1780,"wires":[]},{"id":"77dc8da2.da8d34","type":"sentiment","z":"1a948517.13049b","name":"","property":"payload","x":440,"y":1900,"wires":[["2b9b56ce.22d90a"]]},{"id":"3ae0c7cf.03f158","type":"ui_level","z":"1a948517.13049b","group":"ff1a7ea4.c4c3d","order":2,"width":0,"height":0,"name":"Mood result","label":"Mood","colorHi":"#00ff00","colorWarn":"#ffff00","colorNormal":"#ff0000","colorOff":"#595959","min":"-5","max":"5","segWarn":"-2","segHigh":"0","unit":"","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":"3","colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":790,"y":1900,"wires":[]},{"id":"2b9b56ce.22d90a","type":"function","z":"1a948517.13049b","name":"","func":"msg.payload = msg.sentiment.score\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":1900,"wires":[["3ae0c7cf.03f158","aa234d9d.a5d2c"]]},{"id":"bd80cd5a.3929","type":"debug","z":"1a948517.13049b","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":710,"y":1980,"wires":[]},{"id":"b08a0a4d.732be8","type":"ui_text","z":"1a948517.13049b","group":"ff1a7ea4.c4c3d","order":3,"width":11,"height":2,"name":"","label":"text","format":"{{msg.response.document_tone.tone_categories[0].tones}}","layout":"row-spread","x":770,"y":1840,"wires":[]},{"id":"cea4e187.8d9b9","type":"ui_led","z":"afb6eadd.3fb6f8","group":"ac4f41cc.d4e45","order":1,"width":0,"height":0,"label":"Online status:","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"grey","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"allowColorForValueInMessage":false,"name":"","x":370,"y":1180,"wires":[]},{"id":"844cdb36.bb4428","type":"inject","z":"afb6eadd.3fb6f8","name":"Online","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":170,"y":1160,"wires":[["cea4e187.8d9b9"]]},{"id":"ce56c11c.8ef3f","type":"inject","z":"afb6eadd.3fb6f8","name":"Offline","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":170,"y":1200,"wires":[["cea4e187.8d9b9"]]},{"id":"a1d44fd7.fb0d3","type":"ui_text","z":"afb6eadd.3fb6f8","group":"ac4f41cc.d4e45","order":2,"width":"0","height":"0","name":"","label":"Connected Sensors:","format":"{{msg.payload}}","layout":"row-left","x":420,"y":1260,"wires":[]},{"id":"91ebedfd.40bdc","type":"comment","z":"afb6eadd.3fb6f8","name":"System Status","info":"","x":170,"y":1080,"wires":[]},{"id":"f4166788.5fa4c8","type":"inject","z":"afb6eadd.3fb6f8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":180,"wires":[["e8e90d7.d7c22f"]]},{"id":"e8e90d7.d7c22f","type":"http request","z":"afb6eadd.3fb6f8","name":"","method":"GET","ret":"obj","paytoqs":false,"url":"http://192.168.0.2/dprop.jsn","tls":"","persist":false,"proxy":"","authType":"","x":370,"y":180,"wires":[["e96ecc14.15f15"]]},{"id":"29b5e9a7.311176","type":"switch","z":"afb6eadd.3fb6f8","name":"Condition switching","property":"write","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"},{"t":"eq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":490,"y":540,"wires":[["16584cc.83be5b3"],["c924e5dc.75f988"]]},{"id":"c924e5dc.75f988","type":"debug","z":"afb6eadd.3fb6f8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":890,"y":560,"wires":[]},{"id":"e96ecc14.15f15","type":"function","z":"afb6eadd.3fb6f8","name":"","func":"bodval = (msg.payload[0].processInputs).replace(/\\s/g,''); // removing spaces\nmsg.payload = parseInt(bodval.slice(2,6), 16);\nreturn msg;","outputs":1,"noerr":0,"x":430,"y":320,"wires":[["ff87c770.e80fb8","8dc9eb5b.79db28"]]},{"id":"8dc9eb5b.79db28","type":"function","z":"afb6eadd.3fb6f8","name":"","func":"if (msg.payload <= 6000) {\n    time = new Date();\n    msg.payload = {Value: msg.payload, Time: time.toString()};\n    msg.write = 1;\n} else {\n    msg.payload = msg.payload;\n    msg.write = 0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":270,"y":540,"wires":[["29b5e9a7.311176"]]},{"id":"16584cc.83be5b3","type":"excel","z":"afb6eadd.3fb6f8","name":"","file":"C:\\Users\\gomesr\\Desktop\\Datalog.xlsx","x":710,"y":500,"wires":[["4691ab95.3472f4"]]},{"id":"4691ab95.3472f4","type":"debug","z":"afb6eadd.3fb6f8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":900,"y":500,"wires":[]},{"id":"ff87c770.e80fb8","type":"ui_chart","z":"afb6eadd.3fb6f8","name":"Distance sensor","group":"7f6fcad6.794914","order":2,"width":"6","height":"10","label":"Distance in mm","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Waiting for data from the sensor","dot":false,"ymin":"0","ymax":"6000","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"outputs":1,"x":680,"y":380,"wires":[[]]},{"id":"21845532.03466a","type":"ui_switch","z":"afb6eadd.3fb6f8","name":"","label":"Upload data to the cloud","tooltip":"Send data from the IO-Link master to the IBM cloud","group":"ac4f41cc.d4e45","order":1,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":170,"y":120,"wires":[["e8e90d7.d7c22f"]]},{"id":"705f4b5d.490cd4","type":"comment","z":"afb6eadd.3fb6f8","name":"Get data from IO-Link master","info":"","x":200,"y":80,"wires":[]},{"id":"92ed6b86.d9ccc8","type":"comment","z":"afb6eadd.3fb6f8","name":"Save BOD values whithin the range","info":"","x":200,"y":480,"wires":[]},{"id":"e6f07e08.9d6ed","type":"comment","z":"afb6eadd.3fb6f8","name":"Get data from IO-Link master","info":"","x":180,"y":260,"wires":[]},{"id":"2acffcbe.7ad604","type":"ui_slider","z":"afb6eadd.3fb6f8","name":"Distance sensor simulator","label":"Sensor simulator","tooltip":"Siumlate a distance range 0 - 6000 mm","group":"7f6fcad6.794914","order":3,"width":0,"height":0,"passthru":true,"outs":"all","topic":"","min":"-100","max":"6100","step":"10","x":170,"y":380,"wires":[["ff87c770.e80fb8"]]}]