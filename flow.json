[{"id":"71a65480.6333dc","type":"tab","label":"cardoso - 01","disabled":false,"info":""},{"id":"28007bf4.16cad4","type":"tab","label":"Demarchi - 01","disabled":false,"info":""},{"id":"3e34ebb3.d257f4","type":"tab","label":"Renato - IIoT Project by Renato Gomes","disabled":false,"info":""},{"id":"afb6eadd.3fb6f8","type":"tab","label":"Renato - Industrial monitoring","disabled":false,"info":""},{"id":"1a948517.13049b","type":"tab","label":"Renato - Extra functions","disabled":false,"info":""},{"id":"283fe16a.31889e","type":"tab","label":"cardoso - BNI00AJ","disabled":false,"info":""},{"id":"d70acf5c.c918f","type":"ui_group","z":"","name":"Grupo - 01","tab":"e83ca0c.591686","order":1,"disp":true,"width":"6","collapse":false},{"id":"c853af64.8c6d","type":"ui_base","theme":{"name":"theme-custom","lightTheme":{"default":"#0094CE","baseColor":"#202020","baseFont":"Arial,Arial,Helvetica,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"Arial,Arial,Helvetica,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#131f0c","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","reset":false},"themeState":{"base-color":{"default":"#131f0c","value":"#131f0c","edited":true},"page-titlebar-backgroundColor":{"value":"#212121","edited":true},"page-backgroundColor":{"value":"#ffffff","edited":true},"page-sidebar-backgroundColor":{"value":"#565252","edited":true},"group-textColor":{"value":"#61a636","edited":true},"group-borderColor":{"value":"#121212","edited":true},"group-backgroundColor":{"value":"#ffffff","edited":true},"widget-textColor":{"value":"#000000","edited":true},"widget-backgroundColor":{"value":"#131f0c","edited":true},"widget-borderColor":{"value":"#ffffff","edited":true},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"IO-Link Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"57bada62.28b484","type":"ui_group","z":"","name":"Grupo - 01","tab":"","order":2,"disp":true,"width":"6","collapse":false},{"id":"4bcbb050.66b67","type":"ui_group","z":"","name":"Grupo - 02","tab":"","order":2,"disp":true,"width":"6","collapse":false},{"id":"e83ca0c.591686","type":"ui_tab","z":"","name":"Thomailson - 01","icon":"dashboard","order":1,"disabled":false,"hidden":false},{"id":"44576696.86c408","type":"ui_tab","z":"","name":"Fonte HeartBeat","icon":"flash_on","order":7,"disabled":false,"hidden":false},{"id":"1e35b511.ba8ddb","type":"ui_tab","z":"","name":"Industrial Internet Of Things","icon":"router","order":5,"disabled":false,"hidden":false},{"id":"3157b8c7.b42148","type":"ui_group","z":"","name":"Master","tab":"1e35b511.ba8ddb","order":2,"disp":false,"width":"10","collapse":false,"info":"# Teste\nteste"},{"id":"31b2033b.08329c","type":"ui_group","z":"","name":"ESQ","tab":"1e35b511.ba8ddb","order":1,"disp":false,"width":7,"collapse":false},{"id":"bf667a2a.5588f8","type":"ui_group","z":"","name":"DIR","tab":"1e35b511.ba8ddb","order":3,"disp":false,"width":7,"collapse":false},{"id":"d70808c4.7d7328","type":"ui_group","z":"","name":"Renato's Voice Assistant","tab":"639ab493.90ab4c","order":1,"disp":true,"width":11,"collapse":true},{"id":"e98ddaae.efaab8","type":"ui_group","z":"","name":"Temperature - Machine 01 ","tab":"533d079a.55d518","order":1,"disp":true,"width":6,"collapse":true},{"id":"bc7ad18.3a8643","type":"ui_group","z":"","name":"ESQ","tab":"b4352b40.466a38","order":1,"disp":false,"width":"6","collapse":false},{"id":"e9446e16.338ca","type":"ui_group","z":"","name":"Grupo03","tab":"","order":3,"disp":true,"width":"6","collapse":false},{"id":"5c4def7e.406c1","type":"ui_group","z":"","name":"Grupo04","tab":"","order":4,"disp":true,"width":"6","collapse":false},{"id":"76ad6d87.d2bf84","type":"ui_group","z":"","name":"Garage","tab":"","order":2,"disp":false,"width":"10"},{"id":"639ab493.90ab4c","type":"ui_tab","z":"","name":"Renato - Extra Functions","icon":"cloud","order":4,"disabled":false,"hidden":false},{"id":"fc7375d2.8cd908","type":"ui_group","z":"","name":"Visual Recognition","tab":"639ab493.90ab4c","order":2,"disp":true,"width":"11","collapse":false},{"id":"533d079a.55d518","type":"ui_tab","z":"","name":"Renato - Machine Monitoring","icon":"fa-industry","order":3,"disabled":false,"hidden":false},{"id":"9e0c5462.e6d6d8","type":"ui_group","z":"","name":"Speed Vibration - Machine 01","tab":"533d079a.55d518","order":2,"disp":true,"width":6,"collapse":true},{"id":"ebb0d64d.181538","type":"ui_group","z":"","name":"Relative Humidity - Machine 01","tab":"533d079a.55d518","order":3,"disp":true,"width":6,"collapse":true},{"id":"5bbec25c.a9365c","type":"ui_spacer","name":"spacer","group":"11f4febc.fdada1","order":1,"width":6,"height":1},{"id":"437b0de7.a708b4","type":"ui_tab","z":"","name":"Renato - Home IIoT Demo","icon":"home","order":2,"disabled":false,"hidden":false},{"id":"80622b31.cf6fc8","type":"ui_group","z":"","name":"General Information","tab":"437b0de7.a708b4","order":1,"disp":true,"width":18,"collapse":true},{"id":"219375c5.f2d1fa","type":"ui_spacer","name":"spacer","group":"80622b31.cf6fc8","order":2,"width":18,"height":1},{"id":"4b3b7bd6.49b024","type":"ui_spacer","name":"spacer","group":"80622b31.cf6fc8","order":4,"width":18,"height":1},{"id":"13486d8.3846793","type":"ui_spacer","name":"spacer","group":"80622b31.cf6fc8","order":6,"width":"18","height":1},{"id":"ac4f41cc.d4e45","type":"ui_group","z":"","name":"System Status","tab":"533d079a.55d518","order":5,"disp":true,"width":"6","collapse":true},{"id":"ff1a7ea4.c4c3d","type":"ui_group","z":"","name":"Mood Analyzer","tab":"639ab493.90ab4c","order":3,"disp":true,"width":11,"collapse":false},{"id":"1669908b.62a34f","type":"ui_group","z":"","name":"Grupo - 01","tab":"","order":2,"disp":true,"width":"6","collapse":false},{"id":"5a766566.b1897c","type":"ui_group","z":"","name":"Grupo - 01","tab":"","order":1,"disp":true,"width":"6","collapse":false},{"id":"81e61b9c.71aab8","type":"ui_spacer","name":"spacer","group":"e98ddaae.efaab8","order":1,"width":6,"height":1},{"id":"94eee29f.68f43","type":"ui_spacer","name":"spacer","group":"e98ddaae.efaab8","order":2,"width":6,"height":1},{"id":"95827f01.7f96c","type":"ui_spacer","name":"spacer","group":"9e0c5462.e6d6d8","order":1,"width":6,"height":1},{"id":"78d4acf3.f78f44","type":"ui_spacer","name":"spacer","group":"9e0c5462.e6d6d8","order":3,"width":6,"height":1},{"id":"ccc95c43.7328a","type":"ui_spacer","name":"spacer","group":"ebb0d64d.181538","order":2,"width":6,"height":1},{"id":"7f6fcad6.794914","type":"ui_group","z":"","name":"Distance Sensor","tab":"533d079a.55d518","order":4,"disp":true,"width":"6","collapse":true},{"id":"d8a92156.368a8","type":"ui_spacer","name":"spacer","group":"d70808c4.7d7328","order":1,"width":11,"height":1},{"id":"99aacc7d.3f3d8","type":"ui_spacer","name":"spacer","group":"d70808c4.7d7328","order":2,"width":11,"height":1},{"id":"17ec1aae.c7c225","type":"ui_spacer","name":"spacer","group":"fc7375d2.8cd908","order":1,"width":11,"height":1},{"id":"acb8cc46.50029","type":"ui_spacer","name":"spacer","group":"fc7375d2.8cd908","order":2,"width":11,"height":1},{"id":"a8fb971e.21b488","type":"ui_spacer","name":"spacer","group":"31b2033b.08329c","order":3,"width":7,"height":1},{"id":"9239033d.6ada5","type":"ui_spacer","name":"spacer","group":"31b2033b.08329c","order":4,"width":1,"height":1},{"id":"fa042181.934da","type":"ui_spacer","name":"spacer","group":"31b2033b.08329c","order":7,"width":1,"height":1},{"id":"347bd4b9.59086c","type":"ui_spacer","name":"spacer","group":"31b2033b.08329c","order":9,"width":1,"height":1},{"id":"9abb80a9.ed69c","type":"ui_spacer","name":"spacer","group":"31b2033b.08329c","order":12,"width":1,"height":1},{"id":"b904f62f.d0e5f8","type":"ui_spacer","name":"spacer","group":"31b2033b.08329c","order":14,"width":1,"height":1},{"id":"e9e94394.c2608","type":"ui_spacer","name":"spacer","group":"31b2033b.08329c","order":17,"width":1,"height":1},{"id":"adf0d9fa.8c9738","type":"ui_spacer","name":"spacer","group":"31b2033b.08329c","order":19,"width":1,"height":1},{"id":"ae8151d5.8351e","type":"ui_spacer","name":"spacer","group":"31b2033b.08329c","order":22,"width":1,"height":1},{"id":"8539210d.0c184","type":"ui_spacer","name":"spacer","group":"31b2033b.08329c","order":24,"width":7,"height":1},{"id":"a4e8891e.fcefe8","type":"ui_spacer","name":"spacer","group":"3157b8c7.b42148","order":3,"width":10,"height":1},{"id":"e649198f.4af998","type":"ui_spacer","name":"spacer","group":"bf667a2a.5588f8","order":2,"width":7,"height":1},{"id":"8e36a199.9fea2","type":"ui_spacer","name":"spacer","group":"bf667a2a.5588f8","order":5,"width":1,"height":1},{"id":"a0d72b91.b07808","type":"ui_spacer","name":"spacer","group":"bf667a2a.5588f8","order":7,"width":1,"height":1},{"id":"d24fdbf9.8a3d78","type":"ui_spacer","name":"spacer","group":"bf667a2a.5588f8","order":10,"width":1,"height":1},{"id":"c3495763.dff388","type":"ui_spacer","name":"spacer","group":"bf667a2a.5588f8","order":12,"width":1,"height":1},{"id":"3335fc45.33bad4","type":"ui_spacer","name":"spacer","group":"bf667a2a.5588f8","order":15,"width":1,"height":1},{"id":"1d854fdc.d5b44","type":"ui_spacer","name":"spacer","group":"bf667a2a.5588f8","order":17,"width":1,"height":1},{"id":"f64e19b2.072cc8","type":"ui_spacer","name":"spacer","group":"bf667a2a.5588f8","order":20,"width":1,"height":1},{"id":"697496f7.529578","type":"ui_spacer","name":"spacer","group":"bf667a2a.5588f8","order":22,"width":1,"height":1},{"id":"1cf78fae.a3154","type":"ui_spacer","name":"spacer","group":"bf667a2a.5588f8","order":23,"width":7,"height":1},{"id":"51b56704.c2deb8","type":"ui_tab","z":"","name":"BCM - Balluff Condition Monitoring","icon":"trending_down","order":6,"disabled":false,"hidden":false},{"id":"3956f3dd.90821c","type":"ui_group","z":"","name":"TEMPERATURA","tab":"51b56704.c2deb8","order":2,"disp":true,"width":"6","collapse":false},{"id":"b10dcb98.8611d8","type":"ui_group","z":"","name":"VIBRAÇÃO","tab":"51b56704.c2deb8","order":3,"disp":true,"width":"6","collapse":false},{"id":"8341a213.181b2","type":"ui_group","z":"","name":"UMIDADE","tab":"51b56704.c2deb8","order":4,"disp":true,"width":"6","collapse":false},{"id":"b3f099d6.d78d78","type":"ui_spacer","name":"spacer","group":"3956f3dd.90821c","order":1,"width":6,"height":1},{"id":"6d29d29d.495adc","type":"ui_spacer","name":"spacer","group":"b10dcb98.8611d8","order":2,"width":6,"height":1},{"id":"f1c878a8.670378","type":"ui_group","z":"","name":"SmartLight","tab":"","order":1,"disp":false,"width":"6","collapse":false},{"id":"8473f614.05e4c8","type":"ui_group","z":"","name":"Level Mode","tab":"","order":2,"disp":true,"width":"3","collapse":false},{"id":"f277e542.de6508","type":"ui_group","z":"","name":"Segment Mode","tab":"","order":3,"disp":true,"width":"3","collapse":false},{"id":"8c5a6e42.88bfc","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":1,"width":1,"height":1},{"id":"ed090659.f920d8","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":3,"width":1,"height":1},{"id":"9663c3ee.cad3","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":4,"width":1,"height":1},{"id":"70f98617.b602d8","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":5,"width":1,"height":1},{"id":"741a4925.8ce4c8","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":6,"width":1,"height":1},{"id":"3f849277.8f39be","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":7,"width":1,"height":1},{"id":"1deae8ad.ca4187","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":8,"width":1,"height":1},{"id":"9b77c572.97e568","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":9,"width":1,"height":1},{"id":"f2c8314.54aebd","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":10,"width":1,"height":1},{"id":"ff978cd7.9969a","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":11,"width":1,"height":1},{"id":"a4a682a8.97439","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":12,"width":1,"height":1},{"id":"9ee7b58c.0e44c8","type":"ui_spacer","name":"spacer","group":"8473f614.05e4c8","order":13,"width":1,"height":1},{"id":"4275b6f1.26c3e8","type":"ui_spacer","name":"spacer","group":"f277e542.de6508","order":1,"width":3,"height":1},{"id":"27ec59f7.d47d46","type":"ui_spacer","name":"spacer","group":"f277e542.de6508","order":2,"width":1,"height":1},{"id":"6b02ce1d.cb24e","type":"ui_spacer","name":"spacer","group":"f277e542.de6508","order":4,"width":1,"height":1},{"id":"2141aedc.3cfd02","type":"ui_spacer","name":"spacer","group":"f277e542.de6508","order":5,"width":1,"height":1},{"id":"e2b60752.07cf68","type":"ui_spacer","name":"spacer","group":"f277e542.de6508","order":7,"width":1,"height":1},{"id":"5c0a0740.9f94d8","type":"ui_spacer","name":"spacer","group":"f277e542.de6508","order":8,"width":1,"height":1},{"id":"5d679bc8.5a2224","type":"ui_spacer","name":"spacer","group":"f277e542.de6508","order":10,"width":1,"height":1},{"id":"61c632c1.f596fc","type":"ui_spacer","name":"spacer","group":"f277e542.de6508","order":11,"width":1,"height":1},{"id":"42cdc8fd.963198","type":"ui_spacer","name":"spacer","group":"f277e542.de6508","order":13,"width":1,"height":1},{"id":"f48d29af.18f6d8","type":"ui_spacer","name":"spacer","group":"f277e542.de6508","order":14,"width":1,"height":1},{"id":"42c7165.d569de8","type":"ui_spacer","name":"spacer","group":"f277e542.de6508","order":16,"width":1,"height":1},{"id":"b4352b40.466a38","type":"ui_tab","z":"","name":"BNI005W","icon":"dashboard","order":8,"disabled":false,"hidden":false},{"id":"7b447b8a.205cb4","type":"ui_group","z":"","name":"CENTRO","tab":"b4352b40.466a38","order":2,"disp":false,"width":"7","collapse":false},{"id":"4af7b158.82c3","type":"ui_group","z":"","name":"DIR","tab":"b4352b40.466a38","order":3,"disp":false,"width":"6","collapse":false},{"id":"84dd02b0.30a9f","type":"ui_group","z":"","name":"DIAG","tab":"b4352b40.466a38","order":4,"disp":false,"width":"19","collapse":false},{"id":"acb20055.8a7e2","type":"ui_spacer","name":"spacer","group":"bc7ad18.3a8643","order":2,"width":2,"height":1},{"id":"f59c6696.77df68","type":"ui_spacer","name":"spacer","group":"bc7ad18.3a8643","order":17,"width":6,"height":1},{"id":"d847f902.fb1ed8","type":"ui_spacer","name":"spacer","group":"4af7b158.82c3","order":4,"width":2,"height":1},{"id":"b69fab36.d1a548","type":"ui_spacer","name":"spacer","group":"4af7b158.82c3","order":17,"width":6,"height":1},{"id":"578d9c73.546464","type":"ui_spacer","name":"spacer","group":"84dd02b0.30a9f","order":4,"width":1,"height":1},{"id":"696d9911.964ff8","type":"ui_spacer","name":"spacer","group":"84dd02b0.30a9f","order":7,"width":1,"height":1},{"id":"4c17cce6.a39604","type":"ui_spacer","name":"spacer","group":"84dd02b0.30a9f","order":10,"width":1,"height":1},{"id":"328ee030.b6c","type":"ui_spacer","name":"spacer","group":"84dd02b0.30a9f","order":13,"width":19,"height":1},{"id":"307b5c9e.9422c4","type":"ui_spacer","name":"spacer","group":"84dd02b0.30a9f","order":16,"width":1,"height":1},{"id":"85780f0f.95ed8","type":"ui_spacer","name":"spacer","group":"84dd02b0.30a9f","order":19,"width":1,"height":1},{"id":"7253798f.2e8df8","type":"ui_spacer","name":"spacer","group":"84dd02b0.30a9f","order":22,"width":1,"height":1},{"id":"69abe957.8c9518","type":"ui_group","z":"","name":"BCM","tab":"51b56704.c2deb8","order":1,"disp":false,"width":6,"collapse":false},{"id":"c82b749e.dc37d8","type":"ui_tab","z":"","name":"BNI0088 - Balluff Smart Light","icon":"battery_60","order":8,"disabled":false,"hidden":false},{"id":"a555bc0a.058ca","type":"ui_group","z":"","name":"Voltage","tab":"44576696.86c408","order":2,"disp":true,"width":"6","collapse":false},{"id":"c41b0953.07d398","type":"ui_group","z":"","name":"Current","tab":"44576696.86c408","order":3,"disp":true,"width":"6","collapse":false},{"id":"866851ce.c73fb","type":"ui_group","z":"","name":"Infos","tab":"44576696.86c408","order":4,"disp":true,"width":"6","collapse":false},{"id":"6b122b55.b75c54","type":"ui_group","z":"","name":"Menu","tab":"44576696.86c408","order":1,"disp":false,"width":"5","collapse":false},{"id":"b1b748ec.0bf428","type":"inject","z":"71a65480.6333dc","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":380,"y":140,"wires":[["720d2706.1d9ba8"]]},{"id":"720d2706.1d9ba8","type":"debug","z":"71a65480.6333dc","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":580,"y":200,"wires":[]},{"id":"6e2d997b.c50b18","type":"ui_ui_control","z":"28007bf4.16cad4","name":"","events":"all","x":820,"y":80,"wires":[[]]},{"id":"764e3684.12ef88","type":"inject","z":"28007bf4.16cad4","name":"","topic":"","payload":"{\"group\":{\"hide\":[\"Industrial_Internet_Of_Things_BOD0026\"],\"show\":[\"Industrial_Internet_Of_Things_Master\"]}}","payloadType":"json","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":470,"y":80,"wires":[["6e2d997b.c50b18","2295b5a5.e8548a","5bebb6df.688e68"]]},{"id":"6a442c99.ee37d4","type":"ui_media","z":"28007bf4.16cad4","group":"3157b8c7.b42148","name":"Master_IOL","width":10,"height":9,"order":2,"category":"Master_IOL","file":"Master BNI005H.PNG","layout":"center","showcontrols":true,"loop":true,"onstart":false,"scope":"local","tooltip":"Master_IOL","x":730,"y":280,"wires":[[]]},{"id":"fbaffe53.5ad07","type":"ui_text","z":"28007bf4.16cad4","group":"31b2033b.08329c","order":8,"width":6,"height":1,"name":"","label":"BOD0026 - Sensor Ótico de Distância","format":"{{msg.payload}}","layout":"row-center","x":410,"y":320,"wires":[]},{"id":"d5156ec.fd9519","type":"ui_text","z":"28007bf4.16cad4","group":"31b2033b.08329c","order":13,"width":6,"height":1,"name":"","label":"DISPOSITIVO PORT 2","format":"{{msg.payload}}","layout":"row-center","x":360,"y":400,"wires":[]},{"id":"968dbac1.504448","type":"ui_text","z":"28007bf4.16cad4","group":"31b2033b.08329c","order":18,"width":6,"height":1,"name":"","label":"DISPOSITIVO PORT 4","format":"{{msg.payload}}","layout":"row-center","x":360,"y":480,"wires":[]},{"id":"5fca4137.29f51","type":"ui_text","z":"28007bf4.16cad4","group":"31b2033b.08329c","order":23,"width":6,"height":1,"name":"","label":"DISPOSITIVO PORT 6","format":"{{msg.payload}}","layout":"row-center","x":360,"y":560,"wires":[]},{"id":"ee6b752d.9950c8","type":"ui_text","z":"28007bf4.16cad4","group":"bf667a2a.5588f8","order":6,"width":6,"height":1,"name":"","label":"DISPOSITIVO PORT 1","format":"{{msg.payload}}","layout":"row-center","x":1020,"y":300,"wires":[]},{"id":"55fa91fa.f2256","type":"ui_text","z":"28007bf4.16cad4","group":"bf667a2a.5588f8","order":11,"width":6,"height":1,"name":"","label":"DISPOSITIVO PORT 3","format":"{{msg.payload}}","layout":"row-center","x":1020,"y":380,"wires":[]},{"id":"811af875.9567f8","type":"ui_text","z":"28007bf4.16cad4","group":"bf667a2a.5588f8","order":16,"width":6,"height":1,"name":"","label":"DISPOSITIVO PORT 5","format":"{{msg.payload}}","layout":"row-center","x":1020,"y":460,"wires":[]},{"id":"1d152594.cd376a","type":"ui_text","z":"28007bf4.16cad4","group":"bf667a2a.5588f8","order":21,"width":6,"height":1,"name":"","label":"DISPOSITIVO PORT 7","format":"{{msg.payload}}","layout":"row-center","x":1020,"y":540,"wires":[]},{"id":"8164bc32.e9662","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"3157b8c7.b42148","order":4,"width":0,"height":0,"passthru":false,"label":"","tooltip":"","color":"black","bgcolor":"black","icon":"","payload":"{}","payloadType":"json","topic":"","x":710,"y":320,"wires":[[]]},{"id":"bfe2e57e.8cbd58","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"3157b8c7.b42148","order":1,"width":0,"height":0,"passthru":true,"label":"Master IO-Link","tooltip":"","color":"","bgcolor":"black","icon":"","payload":"{\"group\":{\"hide\":[\"Industrial_Internet_Of_Things_BOD0026\"],\"show\":[\"Industrial_Internet_Of_Things_Master\"]}}","payloadType":"json","topic":"","x":740,"y":240,"wires":[["6e2d997b.c50b18"]]},{"id":"e8debc99.26663","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"31b2033b.08329c","order":5,"width":5,"height":1,"passthru":true,"label":"PORT 0","tooltip":"","color":"","bgcolor":"grey","icon":"","payload":"{\"group\":{\"show\":[\"\"],\"hide\":[\"\"]}}","payloadType":"json","topic":"","x":300,"y":280,"wires":[["6e2d997b.c50b18"]]},{"id":"5cf57d86.3bb314","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"31b2033b.08329c","order":10,"width":5,"height":1,"passthru":false,"label":"PORT 2","tooltip":"","color":"","bgcolor":"GREY","icon":"","payload":"{}","payloadType":"json","topic":"","x":320,"y":360,"wires":[[]]},{"id":"ef7b6564.c540f8","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"31b2033b.08329c","order":15,"width":5,"height":1,"passthru":false,"label":"PORT 4","tooltip":"","color":"","bgcolor":"GREY","icon":"","payload":"{}","payloadType":"json","topic":"","x":320,"y":440,"wires":[[]]},{"id":"51ce877.c31fb78","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"31b2033b.08329c","order":20,"width":5,"height":1,"passthru":false,"label":"PORT 6","tooltip":"","color":"","bgcolor":"GREY","icon":"","payload":"{}","payloadType":"json","topic":"","x":320,"y":520,"wires":[[]]},{"id":"6e050322.99bf0c","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"bf667a2a.5588f8","order":4,"width":5,"height":1,"passthru":false,"label":"PORT 1","tooltip":"","color":"","bgcolor":"GREY","icon":"","payload":"{}","payloadType":"json","topic":"","x":980,"y":260,"wires":[[]]},{"id":"4bef63ce.a0984c","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"bf667a2a.5588f8","order":9,"width":5,"height":1,"passthru":false,"label":"PORT 3","tooltip":"","color":"","bgcolor":"GREY","icon":"","payload":"{}","payloadType":"json","topic":"","x":980,"y":340,"wires":[[]]},{"id":"3deb4c60.8b77d4","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"bf667a2a.5588f8","order":14,"width":5,"height":1,"passthru":false,"label":"PORT 5","tooltip":"","color":"","bgcolor":"GREY","icon":"","payload":"{}","payloadType":"json","topic":"","x":980,"y":420,"wires":[[]]},{"id":"abbb972f.8e95e8","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"bf667a2a.5588f8","order":19,"width":5,"height":1,"passthru":false,"label":"PORT 7","tooltip":"","color":"","bgcolor":"GREY","icon":"","payload":"{}","payloadType":"json","topic":"","x":980,"y":500,"wires":[[]]},{"id":"5df48eb5.d012","type":"microphone","z":"1a948517.13049b","name":"","x":190,"y":260,"wires":[[]]},{"id":"448c4966.037198","type":"debug","z":"1a948517.13049b","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":720,"y":260,"wires":[]},{"id":"49c720a2.36109","type":"camera","z":"1a948517.13049b","name":"","x":230,"y":480,"wires":[["57a8c2b6.6fb2bc","77d1bed4.04d6"]]},{"id":"57a8c2b6.6fb2bc","type":"file","z":"1a948517.13049b","name":"","filename":"C:\\Users\\gomesr\\Desktop\\teste.jpeg","appendNewline":true,"createDir":false,"overwriteFile":"true","encoding":"none","x":770,"y":480,"wires":[[]]},{"id":"74b441.1b3b4bc","type":"debug","z":"1a948517.13049b","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"result","targetType":"msg","x":950,"y":600,"wires":[]},{"id":"5e1bfc54.1f7e24","type":"http in","z":"1a948517.13049b","name":"","url":"/renatovr","method":"get","upload":false,"swaggerDoc":"","x":230,"y":760,"wires":[["e2260178.b0a69"]]},{"id":"e2260178.b0a69","type":"switch","z":"1a948517.13049b","name":"Check image param","property":"payload.imageurl","propertyType":"msg","rules":[{"t":"null"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":344,"y":822,"wires":[["372a4b16.f8a5e4"],["920e1e8e.726eb"]]},{"id":"372a4b16.f8a5e4","type":"template","z":"1a948517.13049b","name":"Get Image URL","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<html>\n<head><title>Renato's Visual Recognition on Node-RED</title></head>\n<body>\n<h1>Welcome to my Visual Recognition Demo - Analyze any image with this tool</h1>\n<form  action=\"{{req._parsedUrl.pathname}}\">\n    <img src=\"https://image.freepik.com/fotos-gratis/muitos-baloes-coloridos-no-ceu-azul-conceito-de-amor-no-verao-e-namorados-lua-de-mel-de-casamento-imagens-de-estilo-de-efeito-vintage_1253-1119.jpg\" height='200'/>\n    <img src=\"https://www.radiometropole.com.br/fotos/noticias/87815/IMAGEM_NOTICIA_3.jpg?v=76e3f37bcd61ecf\" height='200'/>\n    <img src=\"https://live.staticflickr.com/2379/2218733813_a5a400e16a_z.jpg\" height='200'/>\n    <img src=\"https://http2.mlstatic.com/lote-com-4-peixe-palhaco-ocelaris-com-brinde-marinho-D_NQ_NP_900038-MLB27109155440_032018-F.jpg\" height='200'/>\n    <img src=\"https://www1.folha.uol.com.br/folha/galeria/album/images/20040621-brizola-08.jpg\" height='200'/>\n    <br/>Drag and drop any of the images above into the text field or enter any image URL:<br/>\n    <input type=\"text\" name=\"imageurl\"/>\n    <input type=\"submit\" value=\"Analyze\"/>\n</form>\n</body>\n</html>","x":638,"y":791,"wires":[["379b9926.47a076"]]},{"id":"920e1e8e.726eb","type":"change","z":"1a948517.13049b","name":"Extract img URL","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.imageurl","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":430,"y":880,"wires":[["3f401d36.6c5092"]]},{"id":"379b9926.47a076","type":"http response","z":"1a948517.13049b","name":"HTTP Response","x":888,"y":825,"wires":[]},{"id":"93750937.c99d78","type":"template","z":"1a948517.13049b","name":"Report","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<html>\n<head><title>Watson Visual Recognition on Node-RED</title></head>\n<body>\n<h1>Node-RED Watson Visual Recognition Output</h1>\n<p>Analyzed image: {{payload}}<br/><img src=\"{{payload}}\" height='100'/></p>\n<table border='1'>\n    <thead><tr><th>Name</th><th>Score</th></tr></thead>\n{{#result.images.0.classifiers.0.classes}}\n  <tr><td><b>{{class}}</b></td><td><i>{{score}}</i></td></tr>\n{{/result.images.0.classifiers.0.classes}}\n</table>\n<form  action=\"{{req._parsedUrl.pathname}}\">\n    <input type=\"submit\" value=\"Try again\"/>\n</form>\n</body>\n</html>","x":733,"y":859,"wires":[["379b9926.47a076"]]},{"id":"3e7cad25.556182","type":"function","z":"1a948517.13049b","name":"get labels","func":"var labels = msg.result.images[0].classifiers[0].classes;\nmsg.payload = labels.map(function(i){\n   return i.class;\n});\nreturn msg;","outputs":1,"noerr":0,"x":800,"y":935,"wires":[["8c1a74c.87e9f88"]]},{"id":"8c1a74c.87e9f88","type":"debug","z":"1a948517.13049b","name":"","active":false,"tosidebar":true,"console":false,"complete":"payload","x":960,"y":909,"wires":[]},{"id":"c939d3ff.404bc","type":"comment","z":"1a948517.13049b","name":"Texto to speech","info":"\n","x":160,"y":60,"wires":[]},{"id":"170fe7ae.d8d7b8","type":"ui_text_input","z":"1a948517.13049b","name":"Input text to speech","label":"Type an english text here...","tooltip":"my assistant will speech to you, but she only talks in english :)","group":"d70808c4.7d7328","order":3,"width":0,"height":0,"passthru":true,"mode":"text","delay":"0","topic":"","x":370,"y":100,"wires":[["753cb3fa.e6442c"]]},{"id":"e2b45a1.2c128a8","type":"comment","z":"1a948517.13049b","name":"Speech to text","info":"\n","x":130,"y":200,"wires":[]},{"id":"11abcc12.0d1944","type":"comment","z":"1a948517.13049b","name":"Take a picture, save and analyze it","info":"\n","x":200,"y":400,"wires":[]},{"id":"75239ed5.d10da","type":"comment","z":"1a948517.13049b","name":"Visual recognition URL","info":"\n","x":180,"y":700,"wires":[]},{"id":"75e94e23.4c742","type":"ui_button","z":"1a948517.13049b","name":"","group":"80622b31.cf6fc8","order":7,"width":0,"height":0,"passthru":false,"label":"About","tooltip":"","color":"","bgcolor":"","icon":"info","payload":"","payloadType":"str","topic":"","x":370,"y":1080,"wires":[["c6c131d6.754a4"]]},{"id":"58366cb2.a14204","type":"ui_toast","z":"1a948517.13049b","position":"dialog","displayTime":"6","highlight":"red","sendall":true,"outputs":1,"ok":"OK","cancel":"","raw":true,"topic":"","name":"","x":790,"y":1080,"wires":[[]]},{"id":"c6c131d6.754a4","type":"template","z":"1a948517.13049b","name":"","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<p style=\"text-align:center\">This is a project based on Node-red by Renato Gomes</p>\n<p style=\"text-align:center\"><a href=\"https://www.linkedin.com/in/renatoclg/\"  target=\"_blank\" style=\"color:white;font-size:100%\">contact me</a></p>","output":"str","x":620,"y":1080,"wires":[["58366cb2.a14204"]]},{"id":"eb9006ea.e29978","type":"comment","z":"1a948517.13049b","name":"Open a popup window w/ a clickable link","info":"\n","x":260,"y":1020,"wires":[]},{"id":"f9b15ba9.c742a8","type":"ui_template","z":"1a948517.13049b","group":"fc7375d2.8cd908","name":"Visual Recognition Link","order":4,"width":0,"height":0,"format":"<div>\n    <a href=\"http://127.0.0.1:1880/renatovr\"><span>Renato's Visual Recognition Area</span></a>\n</div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":false,"templateScope":"local","x":510,"y":1240,"wires":[[]]},{"id":"47748aab.6448f4","type":"comment","z":"1a948517.13049b","name":"Insert a link to a group on dashboard","info":"\n","x":240,"y":1180,"wires":[]},{"id":"426f67fa.1363a8","type":"comment","z":"1a948517.13049b","name":"Show / hide groups according to the function","info":"\n","x":270,"y":1380,"wires":[]},{"id":"e8ae47db.82a1d8","type":"ui_ui_control","z":"1a948517.13049b","name":"","events":"all","x":800,"y":1440,"wires":[[]]},{"id":"b0bb2235.43f37","type":"function","z":"1a948517.13049b","name":"","func":"if (msg.payload = (\"Valdivia\")){\n    msg.payload = {\n    \"group\": {\n        \"show\": [\n            \"Home_Grupo03\"\n        ],\n        \"hide\": [\n            \"Home_Grupo02\"\n            ]\n    }\n}\n}\nreturn msg;","outputs":1,"noerr":0,"x":590,"y":1420,"wires":[["e8ae47db.82a1d8"]]},{"id":"11bba094.4c170f","type":"inject","z":"1a948517.13049b","name":"","topic":"","payload":"restart","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":430,"y":1520,"wires":[["c73b50cc.afca8"]]},{"id":"c73b50cc.afca8","type":"function","z":"1a948517.13049b","name":"","func":"if (msg.payload = (\"restart\")){\n    msg.payload = {\n    \"group\": {\n        \"show\": [\n            \"Home_Grupo02\"\n        ],\n        \"hide\": [\n            \"Home_Grupo03\"\n            ]\n    }\n}\n}\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":1500,"wires":[["e8ae47db.82a1d8"]]},{"id":"42e95129.90aab","type":"ui_template","z":"1a948517.13049b","group":"d70808c4.7d7328","name":"Clock Toolbar","order":4,"width":0,"height":0,"format":"<script id=\"titleScript\" type=\"text/javascript\">\n    $('#clock').remove();\n    var toolbar = $('.md-toolbar-tools');\n    var div = $('<div/>');\n    var p = $('<p/ id=\"clock\">');\n    \n    $('#titleScript').parent().hide();\n    div.append(p);\n    div[0].style.margin = '5px 5px 5px auto';\n    toolbar.append(div);\n\n    function displayTitle(lh) {\n        p.text(lh); \n    }\n    \n    function upTime() {\n        var d = new Date();\n        p.text(d.toLocaleTimeString('de-AT'));\n    }\n\n    \n\n    // Watch the payload and update the title\n    (function(scope) {\n        scope.$watch('msg.payload', function(data) {\n            displayTitle(data);\n        });\n        setInterval(upTime,1000);\n    })(scope);\n</script>","storeOutMessages":false,"fwdInMessages":false,"resendOnRefresh":false,"templateScope":"local","x":380,"y":1680,"wires":[[]]},{"id":"caf8669e.895298","type":"comment","z":"1a948517.13049b","name":"Put a clock on the toolbar","info":"\n","x":210,"y":1620,"wires":[]},{"id":"753cb3fa.e6442c","type":"ui_audio","z":"1a948517.13049b","name":"Output Text to Speech","group":"d70808c4.7d7328","voice":"en-US","always":"","x":800,"y":100,"wires":[]},{"id":"578edfd1.3d1bb","type":"ui_text","z":"1a948517.13049b","group":"fc7375d2.8cd908","order":3,"width":0,"height":0,"name":"Visual Recognition Area","label":"Do you want to test my Visual Recognition tool? If so, click on the link.","format":"{{msg.payload}}","layout":"row-spread","x":250,"y":1240,"wires":[]},{"id":"3052aa26.915bd6","type":"comment","z":"afb6eadd.3fb6f8","name":"Graphics monitoring","info":"","x":170,"y":680,"wires":[]},{"id":"2644d484.0ae04c","type":"ui_level","z":"afb6eadd.3fb6f8","group":"e98ddaae.efaab8","order":3,"width":0,"height":0,"name":"Machine Temperature","label":"Temperature","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":"80","segWarn":"35","segHigh":"55","unit":"°C","layout":"sv","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":"3","colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":520,"y":740,"wires":[]},{"id":"eca543f5.79c76","type":"ui_slider","z":"afb6eadd.3fb6f8","name":"temperature simulator","label":"Sensor simulator","tooltip":"simulate a machine temperature","group":"e98ddaae.efaab8","order":4,"width":0,"height":0,"passthru":true,"outs":"all","topic":"","min":0,"max":"80","step":1,"x":200,"y":740,"wires":[["2644d484.0ae04c","bdcf1b8e.476918"]]},{"id":"3923b1e8.4b63fe","type":"ui_slider","z":"afb6eadd.3fb6f8","name":"speed vibration simulator","label":"Sensor simulator","tooltip":"simulate a % of speed vibration for the machine","group":"9e0c5462.e6d6d8","order":4,"width":0,"height":0,"passthru":true,"outs":"all","topic":"","min":0,"max":"100","step":1,"x":210,"y":850,"wires":[["9d5fac92.1508e","f83996b8.937a08"]]},{"id":"9d5fac92.1508e","type":"ui_gauge","z":"afb6eadd.3fb6f8","name":"Machine Speed Vibration","group":"9e0c5462.e6d6d8","order":2,"width":0,"height":0,"gtype":"gage","title":"Speed Vibration","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"50","seg2":"70","x":510,"y":850,"wires":[]},{"id":"f83996b8.937a08","type":"ui_chart","z":"afb6eadd.3fb6f8","name":"Historical Data - Speed Vibration","group":"9e0c5462.e6d6d8","order":6,"width":0,"height":0,"label":"Historical Data - Speed Vibration","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Waiting for data from the sensor","dot":false,"ymin":"0","ymax":"100","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":530,"y":910,"wires":[[]]},{"id":"16467ee7.2aa601","type":"ui_gauge","z":"afb6eadd.3fb6f8","name":"Relative Humidity","group":"ebb0d64d.181538","order":1,"width":0,"height":0,"gtype":"wave","title":"Relative Humidity","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":500,"y":1000,"wires":[]},{"id":"ea206608.d5d268","type":"ui_slider","z":"afb6eadd.3fb6f8","name":"relative humidity simulator","label":"Sensor simulator","tooltip":"simulate a % of relative humidity for the machine's ambient","group":"ebb0d64d.181538","order":3,"width":0,"height":0,"passthru":true,"outs":"all","topic":"","min":0,"max":"100","step":1,"x":210,"y":1000,"wires":[["16467ee7.2aa601","90eddcd9.86869"]]},{"id":"90eddcd9.86869","type":"ui_chart","z":"afb6eadd.3fb6f8","name":"Historical Data - Relative Humidity","group":"ebb0d64d.181538","order":4,"width":0,"height":0,"label":"Historical Data - Relative Humidity","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Waiting for data from the sensor","dot":false,"ymin":"0","ymax":"100","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":540,"y":1060,"wires":[[]]},{"id":"bdcf1b8e.476918","type":"ui_chart","z":"afb6eadd.3fb6f8","name":"Historical Data - Temperature","group":"e98ddaae.efaab8","order":5,"width":0,"height":0,"label":"Historical Data -Temperature","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Waiting for data from the sensor","dot":false,"ymin":"0","ymax":"100","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":540,"y":780,"wires":[[]]},{"id":"51eaeefa.3e933","type":"ui_text","z":"3e34ebb3.d257f4","group":"80622b31.cf6fc8","order":1,"width":0,"height":0,"name":"","label":"What is this dashboard showing?","format":"This dashboard demonstrate how a machine can be monitored from the factory floor to the cloud.","layout":"col-center","x":240,"y":100,"wires":[]},{"id":"180521e9.29400e","type":"ui_text","z":"3e34ebb3.d257f4","group":"80622b31.cf6fc8","order":3,"width":0,"height":0,"name":"","label":"How does it works?","format":"Here we have real sensors values when the system is live. If the system is off, it's possible to simulate the sensor values.","layout":"col-center","x":190,"y":140,"wires":[]},{"id":"67326a5e.53d104","type":"ui_text","z":"3e34ebb3.d257f4","group":"80622b31.cf6fc8","order":5,"width":0,"height":0,"name":"","label":"When will this system go live?","format":"The system usually go live once per week, when I'm doing presentations for customers.","layout":"col-center","x":230,"y":180,"wires":[]},{"id":"a2ca97bc.58fc78","type":"comment","z":"1a948517.13049b","name":"Analyze your mood","info":"\n","x":190,"y":1780,"wires":[]},{"id":"cd6a78d.9015c88","type":"ui_text_input","z":"1a948517.13049b","name":"Mood analyzer","label":"How is your day? It will score your mood in a scale from -5 to 5.","tooltip":"Type some words about your day, this tool will analyze your mood based on that.","group":"ff1a7ea4.c4c3d","order":1,"width":0,"height":0,"passthru":true,"mode":"text","delay":"0","topic":"","x":220,"y":1840,"wires":[["77dc8da2.da8d34"]]},{"id":"aa234d9d.a5d2c","type":"debug","z":"1a948517.13049b","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":710,"y":1780,"wires":[]},{"id":"77dc8da2.da8d34","type":"sentiment","z":"1a948517.13049b","name":"","property":"payload","x":440,"y":1900,"wires":[["2b9b56ce.22d90a"]]},{"id":"3ae0c7cf.03f158","type":"ui_level","z":"1a948517.13049b","group":"ff1a7ea4.c4c3d","order":2,"width":0,"height":0,"name":"Mood result","label":"Mood","colorHi":"#00ff00","colorWarn":"#ffff00","colorNormal":"#ff0000","colorOff":"#595959","min":"-5","max":"5","segWarn":"-2","segHigh":"0","unit":"","layout":"sh","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":"3","colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":790,"y":1900,"wires":[]},{"id":"2b9b56ce.22d90a","type":"function","z":"1a948517.13049b","name":"","func":"msg.payload = msg.sentiment.score\nreturn msg;","outputs":1,"noerr":0,"x":610,"y":1900,"wires":[["3ae0c7cf.03f158","aa234d9d.a5d2c"]]},{"id":"bd80cd5a.3929","type":"debug","z":"1a948517.13049b","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":710,"y":1980,"wires":[]},{"id":"b08a0a4d.732be8","type":"ui_text","z":"1a948517.13049b","group":"ff1a7ea4.c4c3d","order":3,"width":11,"height":2,"name":"","label":"text","format":"{{msg.response.document_tone.tone_categories[0].tones}}","layout":"row-spread","x":770,"y":1840,"wires":[]},{"id":"cea4e187.8d9b9","type":"ui_led","z":"afb6eadd.3fb6f8","group":"ac4f41cc.d4e45","order":1,"width":0,"height":0,"label":"Online status:","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"grey","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"allowColorForValueInMessage":false,"name":"","x":370,"y":1180,"wires":[]},{"id":"844cdb36.bb4428","type":"inject","z":"afb6eadd.3fb6f8","name":"Online","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":170,"y":1160,"wires":[["cea4e187.8d9b9"]]},{"id":"ce56c11c.8ef3f","type":"inject","z":"afb6eadd.3fb6f8","name":"Offline","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":170,"y":1200,"wires":[["cea4e187.8d9b9"]]},{"id":"a1d44fd7.fb0d3","type":"ui_text","z":"afb6eadd.3fb6f8","group":"ac4f41cc.d4e45","order":2,"width":"0","height":"0","name":"","label":"Connected Sensors:","format":"{{msg.payload}}","layout":"row-left","x":420,"y":1260,"wires":[]},{"id":"91ebedfd.40bdc","type":"comment","z":"afb6eadd.3fb6f8","name":"System Status","info":"","x":170,"y":1080,"wires":[]},{"id":"f4166788.5fa4c8","type":"inject","z":"afb6eadd.3fb6f8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":180,"wires":[["e8e90d7.d7c22f"]]},{"id":"e8e90d7.d7c22f","type":"http request","z":"afb6eadd.3fb6f8","name":"","method":"GET","ret":"obj","paytoqs":false,"url":"http://192.168.0.2/dprop.jsn","tls":"","persist":false,"proxy":"","authType":"","x":370,"y":180,"wires":[["e96ecc14.15f15"]]},{"id":"29b5e9a7.311176","type":"switch","z":"afb6eadd.3fb6f8","name":"Condition switching","property":"write","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"str"},{"t":"eq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":490,"y":540,"wires":[["16584cc.83be5b3"],["c924e5dc.75f988"]]},{"id":"c924e5dc.75f988","type":"debug","z":"afb6eadd.3fb6f8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":890,"y":560,"wires":[]},{"id":"e96ecc14.15f15","type":"function","z":"afb6eadd.3fb6f8","name":"","func":"bodval = (msg.payload[0].processInputs).replace(/\\s/g,''); // removing spaces\nmsg.payload = parseInt(bodval.slice(2,6), 16);\nreturn msg;","outputs":1,"noerr":0,"x":430,"y":320,"wires":[["ff87c770.e80fb8","8dc9eb5b.79db28"]]},{"id":"8dc9eb5b.79db28","type":"function","z":"afb6eadd.3fb6f8","name":"","func":"if (msg.payload <= 6000) {\n    time = new Date();\n    msg.payload = {Value: msg.payload, Time: time.toString()};\n    msg.write = 1;\n} else {\n    msg.payload = msg.payload;\n    msg.write = 0;\n}\nreturn msg;","outputs":1,"noerr":0,"x":270,"y":540,"wires":[["29b5e9a7.311176"]]},{"id":"16584cc.83be5b3","type":"excel","z":"afb6eadd.3fb6f8","name":"","file":"C:\\Users\\gomesr\\Desktop\\Datalog.xlsx","x":710,"y":500,"wires":[["4691ab95.3472f4"]]},{"id":"4691ab95.3472f4","type":"debug","z":"afb6eadd.3fb6f8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":900,"y":500,"wires":[]},{"id":"ff87c770.e80fb8","type":"ui_chart","z":"afb6eadd.3fb6f8","name":"Distance sensor","group":"7f6fcad6.794914","order":2,"width":"6","height":"10","label":"Distance in mm","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Waiting for data from the sensor","dot":false,"ymin":"0","ymax":"6000","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"outputs":1,"x":680,"y":380,"wires":[[]]},{"id":"21845532.03466a","type":"ui_switch","z":"afb6eadd.3fb6f8","name":"","label":"Upload data to the cloud","tooltip":"Send data from the IO-Link master to the IBM cloud","group":"ac4f41cc.d4e45","order":1,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":170,"y":120,"wires":[["e8e90d7.d7c22f"]]},{"id":"705f4b5d.490cd4","type":"comment","z":"afb6eadd.3fb6f8","name":"Get data from IO-Link master","info":"","x":200,"y":80,"wires":[]},{"id":"92ed6b86.d9ccc8","type":"comment","z":"afb6eadd.3fb6f8","name":"Save BOD values whithin the range","info":"","x":200,"y":480,"wires":[]},{"id":"e6f07e08.9d6ed","type":"comment","z":"afb6eadd.3fb6f8","name":"Get data from IO-Link master","info":"","x":180,"y":260,"wires":[]},{"id":"2acffcbe.7ad604","type":"ui_slider","z":"afb6eadd.3fb6f8","name":"Distance sensor simulator","label":"Sensor simulator","tooltip":"Siumlate a distance range 0 - 6000 mm","group":"7f6fcad6.794914","order":3,"width":0,"height":0,"passthru":true,"outs":"all","topic":"","min":"-100","max":"6100","step":"10","x":170,"y":380,"wires":[["ff87c770.e80fb8"]]},{"id":"6852235b.ed26ac","type":"watson-tone-analyzer-v3","z":"1a948517.13049b","name":"","tones":"emotion","sentences":"true","contentType":"false","tone-method":"generalTone","interface-version":"2016-05-19","inputlang":"en","service-endpoint":"https://api.us-south.tone-analyzer.watson.cloud.ibm.com/instances/3d6f3ecb-0301-43df-95f8-040b3315ba20","x":440,"y":1840,"wires":[["bd80cd5a.3929","b08a0a4d.732be8"]]},{"id":"3f401d36.6c5092","type":"visual-recognition-v3","z":"1a948517.13049b","name":"","vr-service-endpoint":"https://api.us-south.visual-recognition.watson.cloud.ibm.com/instances/6096cd8b-f118-4c11-9a2e-b4e82943b488","image-feature":"classifyImage","lang":"en","x":612.5,"y":931.5,"wires":[["3e7cad25.556182","93750937.c99d78"]]},{"id":"77d1bed4.04d6","type":"visual-recognition-v3","z":"1a948517.13049b","name":"","vr-service-endpoint":"https://api.us-south.visual-recognition.watson.cloud.ibm.com/instances/6096cd8b-f118-4c11-9a2e-b4e82943b488","image-feature":"classifyImage","lang":"en","x":430,"y":600,"wires":[["74b441.1b3b4bc"]]},{"id":"abdb4221.73b75","type":"watson-speech-to-text","z":"1a948517.13049b","name":"","alternatives":1,"speakerlabels":false,"smartformatting":false,"lang":"pt-BR","langhidden":"pt-BR","langcustom":"NoCustomisationSetting","langcustomhidden":"","custom-weight":"0.5","band":"BroadbandModel","bandhidden":"BroadbandModel","keywords":"","keywords-threshold":"0.5","word-confidence":false,"password":"","apikey":"d6tfME5Ln4YmCKMFMvgiGRLbqj_GEGMG5d-iUpXhaLOB","payload-response":false,"streaming-mode":false,"streaming-mute":true,"auto-connect":false,"discard-listening":false,"disable-precheck":false,"service-endpoint":"https://api.us-south.speech-to-text.watson.cloud.ibm.com/instances/dbc44fa1-e770-4112-8bb0-2b85cf0aaff8","x":500,"y":260,"wires":[["448c4966.037198"]]},{"id":"2295b5a5.e8548a","type":"trigger","z":"28007bf4.16cad4","op1":"-","op2":"Balluff Industrial Internet Of Things","op1type":"str","op2type":"str","duration":"2000","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":640,"y":40,"wires":[["b6c83b1b.b823b8"]]},{"id":"b6c83b1b.b823b8","type":"ui_audio","z":"28007bf4.16cad4","name":"","group":"31b2033b.08329c","voice":"en-US","always":"","x":820,"y":40,"wires":[]},{"id":"614653c9.96abcc","type":"ui_led","z":"28007bf4.16cad4","group":"31b2033b.08329c","order":6,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"white","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"allowColorForValueInMessage":false,"name":"","x":450,"y":280,"wires":[]},{"id":"280fdc.631f6024","type":"ui_led","z":"28007bf4.16cad4","group":"31b2033b.08329c","order":11,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"white","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"allowColorForValueInMessage":false,"name":"","x":450,"y":360,"wires":[]},{"id":"f83aa0b5.3e772","type":"ui_led","z":"28007bf4.16cad4","group":"31b2033b.08329c","order":16,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"white","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"allowColorForValueInMessage":false,"name":"","x":450,"y":440,"wires":[]},{"id":"1dc1d1fc.8fb6de","type":"ui_led","z":"28007bf4.16cad4","group":"31b2033b.08329c","order":21,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"white","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"allowColorForValueInMessage":false,"name":"","x":450,"y":520,"wires":[]},{"id":"d37a2dea.03921","type":"ui_led","z":"28007bf4.16cad4","group":"bf667a2a.5588f8","order":3,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"white","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"allowColorForValueInMessage":false,"name":"","x":1110,"y":260,"wires":[]},{"id":"72981ae0.86f034","type":"ui_led","z":"28007bf4.16cad4","group":"bf667a2a.5588f8","order":18,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"white","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"allowColorForValueInMessage":false,"name":"","x":1110,"y":340,"wires":[]},{"id":"93739065.907be","type":"ui_led","z":"28007bf4.16cad4","group":"bf667a2a.5588f8","order":13,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"white","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"allowColorForValueInMessage":false,"name":"","x":1110,"y":420,"wires":[]},{"id":"666f210f.a347a","type":"ui_led","z":"28007bf4.16cad4","group":"bf667a2a.5588f8","order":8,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"white","value":"false","valueType":"bool"},{"color":"green","value":"true","valueType":"bool"}],"allowColorForValueInMessage":false,"name":"","x":1110,"y":500,"wires":[]},{"id":"65e1d88d.d48b98","type":"inject","z":"28007bf4.16cad4","name":"","topic":"","payload":"false","payloadType":"bool","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":300,"wires":[["d37a2dea.03921","614653c9.96abcc","280fdc.631f6024","72981ae0.86f034","93739065.907be","f83aa0b5.3e772","1dc1d1fc.8fb6de","666f210f.a347a"]]},{"id":"3cc1c435.b9dd1c","type":"inject","z":"28007bf4.16cad4","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":110,"y":360,"wires":[["614653c9.96abcc","f83aa0b5.3e772","93739065.907be"]]},{"id":"8226ac90.858c6","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"bf667a2a.5588f8","order":24,"width":0,"height":0,"passthru":false,"label":"","tooltip":"","color":"black","bgcolor":"black","icon":"","payload":"{}","payloadType":"json","topic":"","x":970,"y":580,"wires":[[]]},{"id":"59c79972.2a9c78","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"bf667a2a.5588f8","order":1,"width":0,"height":0,"passthru":false,"label":"","tooltip":"","color":"black","bgcolor":"black","icon":"","payload":"{}","payloadType":"json","topic":"","x":970,"y":220,"wires":[[]]},{"id":"5bebb6df.688e68","type":"ui_template","z":"28007bf4.16cad4","group":"","name":"Logo / Clock","order":0,"width":0,"height":0,"format":"<script id=\"clockScript1\" type=\"text/javascript\">\n    var clockInterval;\n    $(function () {\n        if (clockInterval) return;\n\n   \n        \n        //add logo\n        var div3 = $('<div/>');\n        var logo2 = new Image();\n\n        logo2.src = 'https://balluffbrasil.com.br/wp-content/uploads/2020/03/balluff.jpg'\n        logo2.height = 68;\n        div3[0].style.margin = '10px auto';\n\n        div3.append(logo2);\n\n        //add clock\n        var div2 = $('<div/>');\n        var p = $('<p/>');\n\n        div2.append(p);\n        div2[0].style.margin = '5px';\n\n        function displayTime() {\n            p.text(new Date().toLocaleString());\n        }\n        \n        clockInterval = setInterval(displayTime, 1000);\n\n        //add to toolbar when it's available\n        var addToToolbarTimer;\n        \n        function addToToolbar() {\n            var toolbar = $('.md-toolbar-tools');\n            \n            if(!toolbar.length) return;\n            \n            toolbar.append(div3);\n            toolbar.append(div2);\n            clearInterval(addToToolbarTimer);\n        }\n        addToToolbarTimer = setInterval(addToToolbar, 100);\n    });\n</script>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":false,"templateScope":"global","x":810,"y":140,"wires":[[]]},{"id":"b8f979db.9c4a38","type":"ui_text_input","z":"28007bf4.16cad4","name":"","label":"Digite o endereço IP do Master","tooltip":"Entre aqui com o IP do Master IO-Link","group":"31b2033b.08329c","order":1,"width":6,"height":1,"passthru":true,"mode":"text","delay":300,"topic":"","x":390,"y":240,"wires":[[]]},{"id":"a71484f1.0d4d48","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"31b2033b.08329c","order":2,"width":"1","height":"1","passthru":false,"label":"G o !","tooltip":"","color":"white","bgcolor":"grey","icon":"","payload":"","payloadType":"str","topic":"","x":570,"y":240,"wires":[[]]},{"id":"5451e8aa.fd5df8","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"31b2033b.08329c","order":25,"width":0,"height":0,"passthru":false,"label":"","tooltip":"","color":"black","bgcolor":"black","icon":"","payload":"{}","payloadType":"json","topic":"","x":310,"y":600,"wires":[[]]},{"id":"9bd0ebd9.996a08","type":"comment","z":"28007bf4.16cad4","name":"PÁGINA - BCM","info":"","x":1280,"y":20,"wires":[]},{"id":"92e6a94e.7d8cd8","type":"ui_level","z":"28007bf4.16cad4","group":"3956f3dd.90821c","order":2,"width":0,"height":0,"name":"Machine Temperature","label":"","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":"80","segWarn":"35","segHigh":"55","unit":"°C","layout":"sv","channelA":"","channelB":"","decimals":0,"animations":"soft","shape":"3","colorschema":"fixed","textoptions":"default","colorText":"#eeeeee","fontLabel":"","fontValue":"","fontSmall":"","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":1460,"y":80,"wires":[]},{"id":"d483e9fe.28e448","type":"ui_gauge","z":"28007bf4.16cad4","name":"Machine Speed Vibration","group":"b10dcb98.8611d8","order":1,"width":0,"height":0,"gtype":"gage","title":"","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"50","seg2":"70","x":1470,"y":160,"wires":[]},{"id":"8681c977.cd14e8","type":"ui_chart","z":"28007bf4.16cad4","name":"Historical Data","group":"b10dcb98.8611d8","order":3,"width":0,"height":0,"label":"Historical Data ","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Waiting for data from the sensor","dot":false,"ymin":"0","ymax":"100","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1440,"y":200,"wires":[[]]},{"id":"f282e541.0f56e8","type":"ui_gauge","z":"28007bf4.16cad4","name":"Relative Humidity","group":"8341a213.181b2","order":1,"width":0,"height":0,"gtype":"wave","title":"","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1450,"y":240,"wires":[]},{"id":"e3551907.5c7278","type":"ui_chart","z":"28007bf4.16cad4","name":"Historical Data","group":"8341a213.181b2","order":2,"width":0,"height":0,"label":"Historical Data ","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Waiting for data from the sensor","dot":false,"ymin":"0","ymax":"100","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1440,"y":280,"wires":[[]]},{"id":"66bee82f.e10db8","type":"ui_chart","z":"28007bf4.16cad4","name":"Historical Data","group":"3956f3dd.90821c","order":3,"width":0,"height":0,"label":"Historical Data","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Waiting for data from the sensor","dot":false,"ymin":"0","ymax":"100","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1440,"y":120,"wires":[[]]},{"id":"c49681ce.1c","type":"comment","z":"28007bf4.16cad4","name":"PÁGINA - BNI005W","info":"","x":1890,"y":20,"wires":[]},{"id":"d15cde55.6f951","type":"inject","z":"283fe16a.31889e","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":140,"wires":[["a267eab6.66ea28"]]},{"id":"a267eab6.66ea28","type":"http request","z":"283fe16a.31889e","name":"","method":"GET","ret":"obj","paytoqs":false,"url":"http://192.168.0.15/ports.jsn","tls":"","persist":false,"proxy":"","authType":"","x":270,"y":140,"wires":[["4300b461.3471ac","2431b58b.89063a","f0c38d1.6b0917","3701db59.dea044","fda01cc9.20724","94877f7f.e147f","ae2e821b.a2c16","27e400e9.ad8b8"]]},{"id":"4300b461.3471ac","type":"function","z":"283fe16a.31889e","name":"Port 0","func":"AJval0 = (msg.payload.ports[0].processInputs).replace(/\\s/g,''); // removing spaces\nmsg.payload = parseInt(AJval0.slice(0,8), 16);\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":280,"wires":[["6a6a4d60.f20e84"]]},{"id":"2431b58b.89063a","type":"function","z":"283fe16a.31889e","name":"Port 1","func":"AJval1 = (msg.payload.ports[1].processInputs).replace(/\\s/g,''); // removing spaces\nmsg.payload = parseInt(AJval1.slice(0,8), 16);\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":280,"wires":[["6a6a4d60.f20e84"]]},{"id":"f0c38d1.6b0917","type":"function","z":"283fe16a.31889e","name":"Port 2","func":"AJval2 = (msg.payload.ports[2].processInputs).replace(/\\s/g,''); // removing spaces\nmsg.payload = parseInt(AJval2.slice(0,8), 16);\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":320,"wires":[["6a6a4d60.f20e84"]]},{"id":"94877f7f.e147f","type":"function","z":"283fe16a.31889e","name":"Port 3","func":"AJval3 = (msg.payload.ports[3].processInputs).replace(/\\s/g,''); // removing spaces\nmsg.payload = parseInt(AJval3.slice(0,8), 16);\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":320,"wires":[["6a6a4d60.f20e84"]]},{"id":"3701db59.dea044","type":"function","z":"283fe16a.31889e","name":"Port 4","func":"AJval4 = (msg.payload.ports[4].processInputs).replace(/\\s/g,''); // removing spaces\nmsg.payload = parseInt(AJval4.slice(0,8), 16);\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":360,"wires":[["6a6a4d60.f20e84"]]},{"id":"ae2e821b.a2c16","type":"function","z":"283fe16a.31889e","name":"Port 5","func":"AJval5 = (msg.payload.ports[5].processInputs).replace(/\\s/g,''); // removing spaces\nmsg.payload = parseInt(AJval5.slice(0,8), 16);\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":360,"wires":[["6a6a4d60.f20e84"]]},{"id":"fda01cc9.20724","type":"function","z":"283fe16a.31889e","name":"Port 6","func":"AJval6 = (msg.payload.ports[6].processInputs).replace(/\\s/g,''); // removing spaces\nmsg.payload = parseInt(AJval6.slice(0,8), 16);\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":400,"wires":[["6a6a4d60.f20e84"]]},{"id":"27e400e9.ad8b8","type":"function","z":"283fe16a.31889e","name":"Port 7","func":"AJval7 = (msg.payload.ports[7].processInputs).replace(/\\s/g,''); // removing spaces\nmsg.payload = parseInt(AJval7.slice(0,8), 16);\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":400,"wires":[["6a6a4d60.f20e84"]]},{"id":"6a6a4d60.f20e84","type":"debug","z":"283fe16a.31889e","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":700,"y":160,"wires":[]},{"id":"5bd9e20b.46e7cc","type":"inject","z":"28007bf4.16cad4","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1880,"y":60,"wires":[["d51bdbe7.f27bd8"]]},{"id":"d51bdbe7.f27bd8","type":"http request","z":"28007bf4.16cad4","name":"","method":"GET","ret":"obj","paytoqs":false,"url":"http://192.168.0.5/ports.jsn","tls":"","persist":false,"proxy":"","authType":"","x":2070,"y":60,"wires":[["cc5d0085.729f7"]]},{"id":"cc5d0085.729f7","type":"function","z":"28007bf4.16cad4","name":"Port 0","func":"msg.payload = msg.payload.ports[0]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":60,"wires":[["70f9c816.898738"]]},{"id":"466f4222.0563ac","type":"ui_media","z":"28007bf4.16cad4","group":"7b447b8a.205cb4","name":"BNI005W","width":7,"height":6,"order":2,"category":"BNI005W","file":"BNI005W.PNG","layout":"center","showcontrols":true,"loop":true,"onstart":false,"scope":"local","tooltip":"BNI005W","x":2780,"y":360,"wires":[[]]},{"id":"7bd6a817.c0cb18","type":"ui_text","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":5,"width":2,"height":1,"name":"","label":"PORT 0","format":"{{msg.payload}}","layout":"row-right","x":2380,"y":360,"wires":[]},{"id":"85eca571.24b658","type":"ui_text","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":8,"width":2,"height":1,"name":"","label":"PORT 2","format":"{{msg.payload}}","layout":"row-right","x":2380,"y":400,"wires":[]},{"id":"4f507163.84b6","type":"ui_text","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":11,"width":2,"height":1,"name":"","label":"PORT 4","format":"{{msg.payload}}","layout":"row-right","x":2380,"y":440,"wires":[]},{"id":"88c5437a.37ea3","type":"ui_text","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":14,"width":2,"height":1,"name":"","label":"PORT 6","format":"{{msg.payload}}","layout":"row-right","x":2380,"y":480,"wires":[]},{"id":"9f3678ce.2384c8","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"7b447b8a.205cb4","order":3,"width":0,"height":0,"passthru":false,"label":"","tooltip":"","color":"black","bgcolor":"black","icon":"","payload":"{}","payloadType":"json","topic":"","x":2770,"y":400,"wires":[[]]},{"id":"84bdc136.9edb7","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"7b447b8a.205cb4","order":1,"width":7,"height":1,"passthru":true,"label":"BNI005W","tooltip":"","color":"","bgcolor":"black","icon":"","payload":"","payloadType":"num","topic":"","x":2780,"y":320,"wires":[[]]},{"id":"768e323a.0bcaec","type":"ui_led","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":6,"width":2,"height":1,"label":"","labelPlacement":"right","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2510,"y":360,"wires":[]},{"id":"2526b036.cc15b","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"bc7ad18.3a8643","order":1,"width":6,"height":1,"passthru":false,"label":"BACK","tooltip":"","color":"","bgcolor":"GREY","icon":"","payload":"","payloadType":"str","topic":"","x":2370,"y":320,"wires":[[]]},{"id":"83befc9b.05e13","type":"ui_led","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":7,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"green","value":"1","valueType":"str"},{"color":"grey","value":"0","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2630,"y":360,"wires":[]},{"id":"716c78f3.835848","type":"ui_text","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":3,"width":2,"height":1,"name":"","label":"PIN 2","format":"{{msg.payload}}","layout":"row-left","x":2510,"y":320,"wires":[]},{"id":"cc82376d.a835d8","type":"ui_text","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":4,"width":2,"height":1,"name":"","label":"PIN 4","format":"{{msg.payload}}","layout":"row-left","x":2630,"y":320,"wires":[]},{"id":"1cd698.8d57c968","type":"ui_led","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":9,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"center","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2510,"y":400,"wires":[]},{"id":"d20c2a71.0212c8","type":"ui_led","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":10,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"center","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2630,"y":400,"wires":[]},{"id":"a8cadce.5bc742","type":"ui_led","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":12,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"center","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2510,"y":440,"wires":[]},{"id":"852618d1.b23a38","type":"ui_led","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":13,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"center","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2630,"y":440,"wires":[]},{"id":"93fa5239.0d475","type":"ui_led","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":15,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"center","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2510,"y":480,"wires":[]},{"id":"f012f3cd.ad51e","type":"ui_led","z":"28007bf4.16cad4","group":"bc7ad18.3a8643","order":16,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"center","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2630,"y":480,"wires":[]},{"id":"b93db003.b87c2","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"bc7ad18.3a8643","order":18,"width":0,"height":0,"passthru":false,"label":"","tooltip":"","color":"black","bgcolor":"black","icon":"","payload":"{}","payloadType":"json","topic":"","x":2370,"y":520,"wires":[[]]},{"id":"3f96d942.b709c6","type":"ui_text","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":7,"width":2,"height":1,"name":"","label":"PORT 1","format":"{{msg.payload}}","layout":"row-left","x":2960,"y":360,"wires":[]},{"id":"da43fd24.9ebd7","type":"ui_text","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":10,"width":2,"height":1,"name":"","label":"PORT 3","format":"{{msg.payload}}","layout":"row-left","x":2960,"y":400,"wires":[]},{"id":"2baf579d.c852e8","type":"ui_text","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":13,"width":2,"height":1,"name":"","label":"PORT 5","format":"{{msg.payload}}","layout":"row-left","x":2960,"y":440,"wires":[]},{"id":"e7e6e82c.2c8de8","type":"ui_text","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":16,"width":2,"height":1,"name":"","label":"PORT 7","format":"{{msg.payload}}","layout":"row-left","x":2960,"y":480,"wires":[]},{"id":"807c9498.ea1dc8","type":"ui_led","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":5,"width":2,"height":1,"label":"","labelPlacement":"right","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":3090,"y":360,"wires":[]},{"id":"f43f399a.788a08","type":"ui_text","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":2,"width":2,"height":1,"name":"","label":"PIN 2","format":"{{msg.payload}}","layout":"row-left","x":3070,"y":320,"wires":[]},{"id":"6f26714d.d37c4","type":"ui_text","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":3,"width":2,"height":1,"name":"","label":"PIN 4","format":"{{msg.payload}}","layout":"row-spread","x":3190,"y":320,"wires":[]},{"id":"9aeac879.25b2c8","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"4af7b158.82c3","order":1,"width":0,"height":0,"passthru":false,"label":"","tooltip":"","color":"black","bgcolor":"black","icon":"","payload":"{}","payloadType":"json","topic":"","x":2950,"y":520,"wires":[[]]},{"id":"9e201840.96fb38","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"4af7b158.82c3","order":18,"width":0,"height":0,"passthru":false,"label":"","tooltip":"","color":"White","bgcolor":"black","icon":"","payload":"","payloadType":"num","topic":"","x":2950,"y":320,"wires":[[]]},{"id":"a5669c12.49b7c","type":"ui_led","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":6,"width":2,"height":1,"label":"","labelPlacement":"right","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":3210,"y":360,"wires":[]},{"id":"c078da17.e8ad28","type":"ui_led","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":8,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":3090,"y":400,"wires":[]},{"id":"af4d9d94.f884b","type":"ui_led","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":9,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":3210,"y":400,"wires":[]},{"id":"f47db536.9d0c48","type":"ui_led","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":11,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":3090,"y":440,"wires":[]},{"id":"7a22de42.ab93a","type":"ui_led","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":12,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":3210,"y":440,"wires":[]},{"id":"dd0038a6.e12988","type":"ui_led","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":14,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":3090,"y":480,"wires":[]},{"id":"f22ad50.f10d728","type":"ui_led","z":"28007bf4.16cad4","group":"4af7b158.82c3","order":15,"width":2,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"green","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":3210,"y":480,"wires":[]},{"id":"b183b3fc.1374e","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"84dd02b0.30a9f","order":1,"width":0,"height":0,"passthru":true,"label":"DIAGNÓSTICOS","tooltip":"","color":"","bgcolor":"black","icon":"","payload":"","payloadType":"num","topic":"","x":2650,"y":820,"wires":[[]]},{"id":"538c103.5e05bf","type":"ui_text","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":2,"width":3,"height":1,"name":"","label":"FALHA PORT 0","format":"{{msg.payload}}","layout":"row-center","x":2640,"y":860,"wires":[]},{"id":"889724ea.72a3e8","type":"ui_text","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":5,"width":3,"height":1,"name":"","label":"FALHA PORT 1","format":"{{msg.payload}}","layout":"row-center","x":2640,"y":900,"wires":[]},{"id":"fe57d2b2.b5477","type":"ui_text","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":8,"width":3,"height":1,"name":"","label":"FALHA PORT 2","format":"{{msg.payload}}","layout":"row-center","x":2640,"y":940,"wires":[]},{"id":"aaaf29e5.88de28","type":"ui_text","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":11,"width":3,"height":1,"name":"","label":"FALHA PORT 3","format":"{{msg.payload}}","layout":"row-center","x":2640,"y":980,"wires":[]},{"id":"d74f619.3582aa","type":"ui_text","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":14,"width":3,"height":1,"name":"","label":"FALHA PORT 4","format":"{{msg.payload}}","layout":"row-center","x":2640,"y":1020,"wires":[]},{"id":"bf4255b1.8e7198","type":"ui_text","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":17,"width":3,"height":1,"name":"","label":"FALHA PORT 5","format":"{{msg.payload}}","layout":"row-center","x":2640,"y":1060,"wires":[]},{"id":"6edfec09.7abae4","type":"ui_text","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":20,"width":3,"height":1,"name":"","label":"FALHA PORT 6","format":"{{msg.payload}}","layout":"row-center","x":2640,"y":1100,"wires":[]},{"id":"3a2dc07d.f4399","type":"ui_led","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":3,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2790,"y":860,"wires":[]},{"id":"7c66a724.f4d038","type":"ui_led","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":6,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2790,"y":900,"wires":[]},{"id":"3c7bf4cc.68f19c","type":"ui_led","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":9,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2790,"y":940,"wires":[]},{"id":"e848db50.c30898","type":"ui_led","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":12,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2790,"y":980,"wires":[]},{"id":"93bf6e8f.8496f","type":"ui_led","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":15,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2790,"y":1020,"wires":[]},{"id":"44eea67e.ed6e48","type":"ui_led","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":18,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2790,"y":1060,"wires":[]},{"id":"a85460fe.6333","type":"ui_led","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":21,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2790,"y":1100,"wires":[]},{"id":"9247ecfe.68702","type":"ui_led","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":24,"width":1,"height":1,"label":"","labelPlacement":"left","labelAlignment":"right","colorForValue":[{"color":"grey","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":2790,"y":1140,"wires":[]},{"id":"589cfe09.3bdf6","type":"ui_button","z":"28007bf4.16cad4","name":"","group":"84dd02b0.30a9f","order":25,"width":0,"height":0,"passthru":true,"label":"","tooltip":"","color":"","bgcolor":"black","icon":"","payload":"","payloadType":"num","topic":"","x":2610,"y":1180,"wires":[[]]},{"id":"5b3869b.af22398","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload = msg.payload.toString(2);\nreturn msg;","outputs":1,"noerr":0,"x":2030,"y":520,"wires":[[]]},{"id":"4a397ea7.b5192","type":"function","z":"28007bf4.16cad4","name":"Port 1","func":"AJval1 = (msg.payload.ports[1].processInputs).replace(/\\s/g,''); // removing spaces\nmsg.payload = parseInt(AJval1.slice(0,8), 16);\nreturn msg;","outputs":1,"noerr":0,"x":2490,"y":140,"wires":[[]]},{"id":"70f9c816.898738","type":"function","z":"28007bf4.16cad4","name":"Hex to Bin","func":"var output1 = {}; //define output\nvar output2 = {}; //define output\nvar output3 = {}; //define output\nvar hex = (msg.payload.processInputs).replace(/ /g, \"\");\nvar dec = parseInt(hex,16);\n//no leading zeroeswith this method\n//var bit = parseInt(hex,16).toString(2);\nvar bit\nfunction hexToBinary(s) {\nvar i, k, part, ret = '';\n// lookup table for easier conversion. '0' characters are padded for '1' to '7'\nvar lookupTable = {\n'0': '0000', '1': '0001', '2': '0010', '3': '0011', '4': '0100',\n'5': '0101', '6': '0110', '7': '0111', '8': '1000', '9': '1001',\n'a': '1010', 'b': '1011', 'c': '1100', 'd': '1101',\n'e': '1110', 'f': '1111',\n'A': '1010', 'B': '1011', 'C': '1100', 'D': '1101',\n'E': '1110', 'F': '1111'\n};\nfor (i = 0; i < s.length; i += 1) {\nif (lookupTable.hasOwnProperty(s[i])) {\nret += lookupTable[s[i]];\n} else {\nreturn { valid: false };\n}\n}\nreturn { valid: true, result: ret };\n}\nbit=hexToBinary(hex);\noutput1.payload=hex;\noutput2.payload=dec;\noutput3.payload=bit.result;\nreturn [output1,output2,output3];","outputs":3,"noerr":0,"x":2070,"y":140,"wires":[[],[],["489f0225.41826c","c80336c2.4fdae8","db375eb3.3fb27","9b048add.11e248","50a92b68.d46a64","5f24ef52.37f4e","cdb1ecd0.a0f2f","629e8f99.0eba6","49412e85.973ba","50458859.451e78","640deb96.c33df4","e36c1a0e.aadc18","8dc984c7.7fe288","25c9cb8.46d9734","d4ca6e19.86abc","7ab11692.b79528"]]},{"id":"489f0225.41826c","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[15]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":260,"wires":[["768e323a.0bcaec"]]},{"id":"c80336c2.4fdae8","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[7]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":300,"wires":[["83befc9b.05e13"]]},{"id":"db375eb3.3fb27","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[14]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":340,"wires":[["807c9498.ea1dc8"]]},{"id":"9b048add.11e248","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[6]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":380,"wires":[["a5669c12.49b7c"]]},{"id":"50a92b68.d46a64","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[13]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":420,"wires":[["1cd698.8d57c968"]]},{"id":"5f24ef52.37f4e","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[5]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":460,"wires":[["d20c2a71.0212c8"]]},{"id":"cdb1ecd0.a0f2f","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[12]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":500,"wires":[["c078da17.e8ad28"]]},{"id":"629e8f99.0eba6","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[4]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":540,"wires":[["af4d9d94.f884b"]]},{"id":"49412e85.973ba","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[11]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":580,"wires":[["a8cadce.5bc742"]]},{"id":"50458859.451e78","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[3]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":620,"wires":[["852618d1.b23a38"]]},{"id":"640deb96.c33df4","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[10]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":660,"wires":[["f47db536.9d0c48"]]},{"id":"e36c1a0e.aadc18","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[2]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":700,"wires":[["7a22de42.ab93a"]]},{"id":"8dc984c7.7fe288","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[9]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":740,"wires":[["93fa5239.0d475"]]},{"id":"25c9cb8.46d9734","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[1]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":780,"wires":[["f012f3cd.ad51e"]]},{"id":"d4ca6e19.86abc","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[8]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":820,"wires":[["dd0038a6.e12988"]]},{"id":"7ab11692.b79528","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[0]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":860,"wires":[["f22ad50.f10d728"]]},{"id":"3f438f9a.bd29c","type":"ui_text","z":"28007bf4.16cad4","group":"84dd02b0.30a9f","order":23,"width":3,"height":1,"name":"","label":"FALHA PORT 7","format":"{{msg.payload}}","layout":"row-center","x":2640,"y":1140,"wires":[]},{"id":"8c655483.f849c8","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[16]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":900,"wires":[["9247ecfe.68702"]]},{"id":"40e10c4d.4efb14","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[17]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":940,"wires":[["a85460fe.6333"]]},{"id":"84806e2b.8bca1","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[18]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":980,"wires":[["44eea67e.ed6e48"]]},{"id":"bd9e7e29.1d921","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[19]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":1020,"wires":[["93bf6e8f.8496f"]]},{"id":"55c13dcc.cbdef4","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[20]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":1060,"wires":[["e848db50.c30898"]]},{"id":"dd7416e0.f9fcd8","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[21]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":1100,"wires":[["3c7bf4cc.68f19c"]]},{"id":"d3ab8a7e.b38a58","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[22]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":1140,"wires":[["7c66a724.f4d038"]]},{"id":"da4b2f0c.a32d9","type":"function","z":"28007bf4.16cad4","name":"","func":"msg.payload=msg.payload[23]\nreturn msg;","outputs":1,"noerr":0,"x":2210,"y":1180,"wires":[["3a2dc07d.f4399"]]},{"id":"8867c4c7.83e928","type":"function","z":"28007bf4.16cad4","name":"Hex to Bin","func":"var output1 = {}; //define output\nvar output2 = {}; //define output\nvar output3 = {}; //define output\nvar hex = (msg.payload.processInputs).replace(/ /g, \"\");\nvar dec = parseInt(hex,16);\n//no leading zeroeswith this method\n//var bit = parseInt(hex,16).toString(2);\nvar bit\nfunction hexToBinary(s) {\nvar i, k, part, ret = '';\n// lookup table for easier conversion. '0' characters are padded for '1' to '7'\nvar lookupTable = {\n'0': '0000', '1': '0001', '2': '0010', '3': '0011', '4': '0100',\n'5': '0101', '6': '0110', '7': '0111', '8': '1000', '9': '1001',\n'a': '1010', 'b': '1011', 'c': '1100', 'd': '1101',\n'e': '1110', 'f': '1111',\n'A': '1010', 'B': '1011', 'C': '1100', 'D': '1101',\n'E': '1110', 'F': '1111'\n};\nfor (i = 0; i < s.length; i += 1) {\nif (lookupTable.hasOwnProperty(s[i])) {\nret += lookupTable[s[i]];\n} else {\nreturn { valid: false };\n}\n}\nreturn { valid: true, result: ret };\n}\nbit=hexToBinary(hex);\noutput1.payload=hex;\noutput2.payload=dec;\noutput3.payload=bit.result;\nreturn [output1,output2,output3];","outputs":3,"noerr":0,"x":1910,"y":1060,"wires":[[],[],[]]},{"id":"8390e87.afbcc18","type":"function","z":"28007bf4.16cad4","name":"Port x","func":"msg.payload ='000000000000000011111111'\nreturn msg;","outputs":1,"noerr":0,"x":1970,"y":940,"wires":[["8c655483.f849c8","40e10c4d.4efb14","84806e2b.8bca1","bd9e7e29.1d921","55c13dcc.cbdef4","dd7416e0.f9fcd8","d3ab8a7e.b38a58","da4b2f0c.a32d9","39b8c9ef.3a7e96"]]},{"id":"e6c2b06c.dd50f","type":"inject","z":"28007bf4.16cad4","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":1850,"y":880,"wires":[["8390e87.afbcc18"]]},{"id":"39b8c9ef.3a7e96","type":"debug","z":"28007bf4.16cad4","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":2000,"y":1240,"wires":[]},{"id":"5084e5ec.a319dc","type":"comment","z":"28007bf4.16cad4","name":"PÁGINA PRINCIPAL - MASTER IOL","info":"","x":160,"y":20,"wires":[]},{"id":"82f030fa.27613","type":"ui_button","z":0,"name":"","group":"6b122b55.b75c54","order":1,"width":0,"height":0,"passthru":false,"label":"BACK","tooltip":"Voltar á tela do Master IO-Link","color":"WHITE","bgcolor":"BLACK","icon":"","payload":"","payloadType":"str","topic":"","x":1050,"y":360,"wires":[[]]},{"id":"24a54f6a.4ea33","type":"ui_media","z":0,"group":"6b122b55.b75c54","name":"BAE","width":"5","height":"8","order":2,"category":"HeartBeat","file":"BAE00T4.png","layout":"adjust","showcontrols":true,"loop":true,"onstart":false,"scope":"local","tooltip":"BAE","x":1170,"y":360,"wires":[[]]},{"id":"1da22578.d0715b","type":"http request","z":0,"name":"BNI Json","method":"use","ret":"obj","url":"","tls":"","x":709,"y":94.00001525878906,"wires":[["752e3094.2a691"]]},{"id":"aac17927.e15df8","type":"function","z":0,"name":"Configure GET command","func":"msg.method=\"GET\";\nmsg.url=global.get(\"IP\")+\"/ports.jsn\";\n\nif (msg.url!==\"\")\n{\n    return msg;\n}\n\n\n","outputs":1,"noerr":0,"x":495.982666015625,"y":92.98959350585938,"wires":[["1da22578.d0715b"]]},{"id":"96209c42.f1167","type":"inject","z":0,"name":"","topic":"","payload":"192.168.0.100","payloadType":"str","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":80,"wires":[["e54b8e1d.430fd"]]},{"id":"752e3094.2a691","type":"function","z":0,"name":"Global set master_data","func":"global.set(\"master_data\",msg.payload);\n\nreturn msg;","outputs":1,"noerr":0,"x":910,"y":100,"wires":[["3037c6fd.bca45a"]]},{"id":"3d0319bc.de86c6","type":"udp out","z":0,"name":"","addr":"","iface":"","port":"","ipv":"udp4","outport":"2000","base64":false,"multicast":"false","x":1030,"y":240,"wires":[]},{"id":"2ae66cc6.6bdd74","type":"function","z":0,"name":"Set Payload to Buffer","func":"var string = msg.hex.replace(/\\s/g,'');\nmsg.ip = msg.host;\nmsg.port = '1999';\nmsg.payload = Buffer.from(string,\"hex\");\n\nreturn msg;\n\n//msg.payload = Buffer.from(msg.payload, \"hex\");\n","outputs":1,"noerr":0,"x":840,"y":240,"wires":[["3d0319bc.de86c6"]]},{"id":"2872b680.071f3a","type":"function","z":0,"name":"foreach port","func":"// list of ports to initialize\nlet ports = msg.ports || [0]; \n\n// get port_index from node context, or initialize\nlet port_index = context.get('port_index') || 0;\n\n// finished?\nif (port_index >= ports.length) {\n    context.set('port_index', null); // undefine port_index\n    return null;\n}\n    \n// prepare message:\nmsg.port = (\"00\" + ports[port_index]).slice(-2);\n\n// next port...\ncontext.set('port_index', port_index+1);\n\nmsg.hex = '24 00 02 0F '+ msg.port +' 00 0C 11 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 32 32';\n\nreturn msg;\n\n//24 00.02.0F.00.00.0C.11.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.00.32.32","outputs":"1","noerr":0,"x":610,"y":240,"wires":[["47ba1a8b.15c8c4","2ae66cc6.6bdd74"]]},{"id":"47ba1a8b.15c8c4","type":"delay","z":0,"name":"","pauseType":"delay","timeout":"50","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":610,"y":280,"wires":[["2872b680.071f3a"]]},{"id":"9a3f91ec.53d64","type":"change","z":0,"name":"read host and ports from config","rules":[{"t":"set","p":"host","pt":"msg","to":"IP","tot":"global"},{"t":"set","p":"ports","pt":"msg","to":"[0,1,2,3,4,5,6,7]","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":350,"y":240,"wires":[["2872b680.071f3a"]]},{"id":"75df3d51.3fd264","type":"inject","z":0,"name":"Ts-35s","topic":"","payload":"","payloadType":"date","repeat":"35","crontab":"","once":false,"onceDelay":"5","x":100,"y":240,"wires":[["9a3f91ec.53d64"]]},{"id":"46d17b53.1c6e84","type":"comment","z":0,"name":"Get Master Data","info":"Get and safe the master data.\nPlease configure the IP-adress correctly.","x":80,"y":40,"wires":[]},{"id":"ad0ead3c.54d6a","type":"comment","z":0,"name":"Set Ports to IO-Link","info":"With this node flow you can set the ports to IO-Link.\nPlease configure the IP adress correctly.","x":90,"y":177.99998474121094,"wires":[]},{"id":"e54b8e1d.430fd","type":"function","z":0,"name":"Global set IP","func":"global.set(\"IP\",msg.payload);\n\nreturn msg;","outputs":1,"noerr":0,"x":270,"y":93,"wires":[["aac17927.e15df8"]]},{"id":"e439e759.1586d8","type":"comment","z":0,"name":"Read the Port 0","info":"With this node flow you can set read a Port with Heartbeat","x":80,"y":340,"wires":[]},{"id":"c184a982.2bfbd8","type":"inject","z":0,"name":"Get Port Info","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"x":120,"y":401,"wires":[["4e23e4d7.ef4ddc"]]},{"id":"4e23e4d7.ef4ddc","type":"change","z":0,"name":"read host and ports from config","rules":[{"t":"set","p":"payload","pt":"msg","to":"master_data","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":350,"y":401,"wires":[["c58273eb.ea09e"]]},{"id":"626b20.8a60a4e","type":"comment","z":0,"name":"Dashboard","info":"","x":1100,"y":320,"wires":[]},{"id":"3037c6fd.bca45a","type":"change","z":0,"name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1140,"y":100,"wires":[[]]},{"id":"c58273eb.ea09e","type":"function","z":0,"name":"Port0","func":"msg.payload = msg.payload.ports[0];\n\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":401,"wires":[["b0afd68a.838308","33b28c8e.0a7414","344d216f.6c28ae","57543bb.09dcbc4"]]},{"id":"b0afd68a.838308","type":"function","z":0,"name":"Vendor Name","func":"msg.payload=msg.payload.vendorName;\n\nreturn msg;","outputs":1,"noerr":0,"x":740,"y":401,"wires":[[]]},{"id":"33b28c8e.0a7414","type":"function","z":0,"name":"Product","func":"msg.payload=msg.payload.productName;\nreturn msg;","outputs":1,"noerr":0,"x":720,"y":441,"wires":[[]]},{"id":"344d216f.6c28ae","type":"function","z":0,"name":"Product Text","func":"msg.payload=msg.payload.productText;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":481,"wires":[[]]},{"id":"ec3fa7d7.93d3d8","type":"function","z":0,"name":"Output voltage","func":"msg.payload = parseInt(msg.payload.slice(0,12), 2);\nmsg.payload = (msg.payload/10);\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":541,"wires":[["c140ef8e.2e77f","e4e89077.84336"]]},{"id":"57543bb.09dcbc4","type":"function","z":0,"name":"Hex to Bin","func":"var output1 = {}; //define output\nvar output2 = {}; //define output\nvar output3 = {}; //define output\nvar hex = (msg.payload.processInputs).replace(/ /g, \"\");\nvar dec = parseInt(hex,16);\n//no leading zeroeswith this method\n//var bit = parseInt(hex,16).toString(2);\nvar bit\nfunction hexToBinary(s) {\nvar i, k, part, ret = '';\n// lookup table for easier conversion. '0' characters are padded for '1' to '7'\nvar lookupTable = {\n'0': '0000', '1': '0001', '2': '0010', '3': '0011', '4': '0100',\n'5': '0101', '6': '0110', '7': '0111', '8': '1000', '9': '1001',\n'a': '1010', 'b': '1011', 'c': '1100', 'd': '1101',\n'e': '1110', 'f': '1111',\n'A': '1010', 'B': '1011', 'C': '1100', 'D': '1101',\n'E': '1110', 'F': '1111'\n};\nfor (i = 0; i < s.length; i += 1) {\nif (lookupTable.hasOwnProperty(s[i])) {\nret += lookupTable[s[i]];\n} else {\nreturn { valid: false };\n}\n}\nreturn { valid: true, result: ret };\n}\nbit=hexToBinary(hex);\noutput1.payload=hex;\noutput2.payload=dec;\noutput3.payload=bit.result;\nreturn [output1,output2,output3];","outputs":3,"noerr":0,"x":730,"y":541,"wires":[[],[],["ad66929d.cdaf4","6d052c4e.2e5cd4","c6073e0d.03baa","7678cdbb.7e9bc4","71cffd83.eedc24"]]},{"id":"e6ae2a1f.e2c778","type":"function","z":0,"name":"Output current","func":"msg.payload = parseInt(msg.payload.slice(12,24), 2);\nmsg.payload = (msg.payload/10);\nreturn msg;","outputs":1,"noerr":0,"x":900,"y":620,"wires":[["69ed03b3.5aa68c","2f714714.eb8f18"]]},{"id":"ad66929d.cdaf4","type":"function","z":0,"name":"PSU","func":"msg.payload = msg.payload[25];\nreturn msg;","outputs":1,"noerr":0,"x":870,"y":680,"wires":[["7dad15f.e6f77ec"]]},{"id":"6d052c4e.2e5cd4","type":"function","z":0,"name":"Output drop","func":"msg.payload = msg.payload[29];\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":720,"wires":[["8324fe91.f7736"]]},{"id":"c6073e0d.03baa","type":"function","z":0,"name":"Over temperature","func":"msg.payload = msg.payload[30];\nreturn msg;","outputs":1,"noerr":0,"x":910,"y":760,"wires":[["69be5f8c.6da1a"]]},{"id":"7678cdbb.7e9bc4","type":"function","z":0,"name":"Over Voltage","func":"msg.payload = msg.payload[31];\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":800,"wires":[["993870e7.ac10e"]]},{"id":"71cffd83.eedc24","type":"function","z":0,"name":"Overload","func":"msg.payload = msg.payload[32];\nreturn msg;","outputs":1,"noerr":0,"x":880,"y":840,"wires":[["13cd4fc7.82644"]]},{"id":"c140ef8e.2e77f","type":"ui_chart","z":0,"name":"","group":"a555bc0a.058ca","order":2,"width":0,"height":0,"label":"chart","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1090,"y":560,"wires":[[]]},{"id":"69ed03b3.5aa68c","type":"ui_chart","z":0,"name":"","group":"c41b0953.07d398","order":2,"width":0,"height":0,"label":"chart","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1090,"y":640,"wires":[[]]},{"id":"7dad15f.e6f77ec","type":"ui_led","z":0,"group":"866851ce.c73fb","order":1,"width":0,"height":0,"label":"PSU","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"green","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":1090,"y":680,"wires":[]},{"id":"e4e89077.84336","type":"ui_gauge","z":0,"name":"","group":"a555bc0a.058ca","order":1,"width":0,"height":0,"gtype":"gage","title":"","label":"[V]","format":"{{value}} ","min":0,"max":"30","colors":["#e6e600","#00b500","#ca3838"],"seg1":"18","seg2":"26","x":1090,"y":520,"wires":[]},{"id":"2f714714.eb8f18","type":"ui_gauge","z":0,"name":"","group":"c41b0953.07d398","order":1,"width":0,"height":0,"gtype":"gage","title":"","label":"[A]","format":"{{value}}","min":0,"max":"5","colors":["#00b500","#e6e600","#ca3838"],"seg1":"4","seg2":"4.9","x":1090,"y":600,"wires":[]},{"id":"8324fe91.f7736","type":"ui_led","z":0,"group":"866851ce.c73fb","order":3,"width":0,"height":0,"label":"Output Drop","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"green","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":1090,"y":720,"wires":[]},{"id":"69be5f8c.6da1a","type":"ui_led","z":0,"group":"866851ce.c73fb","order":4,"width":0,"height":0,"label":"Over Temperature","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"green","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":1090,"y":760,"wires":[]},{"id":"993870e7.ac10e","type":"ui_led","z":0,"group":"866851ce.c73fb","order":7,"width":0,"height":0,"label":"Over Voltage","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"green","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":1090,"y":800,"wires":[]},{"id":"13cd4fc7.82644","type":"ui_led","z":0,"group":"866851ce.c73fb","order":9,"width":0,"height":0,"label":"Overload","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"green","value":"0","valueType":"str"},{"color":"red","value":"1","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":1090,"y":840,"wires":[]},{"id":"98347825.e9d078","type":"debug","z":0,"name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":960,"y":460,"wires":[]},{"id":"7bc8e9e0.e76ec8","type":"inject","z":0,"name":"","topic":"","payload":"0000101100100000011100000010010","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":350,"y":660,"wires":[["ec3fa7d7.93d3d8","e6ae2a1f.e2c778"]]}]